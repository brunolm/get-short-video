!function webpackUniversalModuleDefinition(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(self,()=>(()=>{"use strict";var __webpack_require__={};__webpack_require__.d=(exports1,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports1,key)&&Object.defineProperty(exports1,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports1=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports1,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports1,"__esModule",{value:!0})};var __webpack_exports__={};function fragment(param){let{children}=param;return children}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>client_0});let seed=Object.freeze([]);function normalize(child){return child??!1}function element_element(type,props){for(var _len=arguments.length,children=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)children[_key-2]=arguments[_key];children=seed.concat(...children).map(normalize),"textarea"===type&&(children=[children.join("")]);let attributes={...props,children};return("style"!==type||attributes.html||(attributes.html=children.join("")),"element"===type&&(type=attributes.tag||fragment,delete attributes.tag),"function"==typeof type&&void 0!==type.render)?{type,attributes,children:null}:{type,attributes,children}}function generateKey(scope,node,depth){if(node.attributes.key)return node.attributes.key;let prefix=1===depth.length?"application":`${node.type.name}/${depth}`;return node.attributes.route?prefix+("ssg"===scope.context.environment.mode?scope.context.router.path:scope.context.router.url):prefix}function isUndefined(node){return void 0===node||null!==node&&Object.prototype.hasOwnProperty.call(node,"type")&&void 0===node.type}function isFalse(node){return null===node||!1===node||Object.prototype.hasOwnProperty.call(node,"type")&&null===node.type||!1===node.type}function isClass(node){return"function"==typeof node.type&&node.type.prototype&&"function"==typeof node.type.prototype.render}function isFunction(node){return"function"==typeof node.type}function isText(node){return"text"===node.type}function noop(){}function match(node){return node&&"a"===node.type&&node.attributes.href&&node.attributes.href.startsWith("/")&&!node.attributes.target}function transform(param){let{node}=param;match(node)&&(node.attributes.onclick??=noop)}let anchorable={transform,client:!0};function bindable_match(node){return node?.attributes?.bind!==void 0}function bindable_transform(param){let{node,environment}=param;if(!bindable_match(node))return;let object=node.attributes.bind.object??{},property=node.attributes.bind.property;if("textarea"===node.type)node.children=[object[property]??""];else if("input"===node.type&&"checkbox"===node.attributes.type)node.attributes.checked=object[property];else if("input"===node.type&&"date"===node.attributes.type&&object[property]instanceof Date){let yyyy=object[property].getFullYear(),mm=(object[property].getMonth()+1).toString().padStart(2,"0"),dd=object[property].getDate().toString().padStart(2,"0");node.attributes.value=`${yyyy}-${mm}-${dd}`}else node.attributes.value=object[property]??"";environment.client&&("checkbox"===node.attributes.type||"radio"===node.attributes.type?node.attributes.onclick??=noop:"input"!==node.type&&"textarea"!==node.type?node.attributes.onchange??=noop:node.attributes.oninput??=noop)}let bindable={transform:bindable_transform,client:!0,server:!0};function serializeParam(value){return value?.toJSON?.()??value}function serializeSearch(params){let keys=Object.keys(params);return keys.map(key=>!1===params[key]||params[key]?`${key}=${params[key]}`:"").filter(segment=>!!segment).join("&")}function parameterizable_match(node){return node&&node.attributes&&(node.attributes.params||node.attributes.path)}function parameterizable_transform(param){let serializedParams,{node,router:router1,params}=param;if(!parameterizable_match(node))return;if(node.attributes.params)for(let key in serializedParams={},node.attributes.params)serializedParams[key]=serializeParam(node.attributes.params[key]);else serializedParams=params;let search=serializeSearch(serializedParams),path1=node.attributes.path||router1.path;node.attributes.href=path1+(search?"?":"")+search,delete node.attributes.path,delete node.attributes.params}let parameterizable={transform:parameterizable_transform,client:!0,server:!0};function extractLocation(originalUrl){let urlFragments=originalUrl.split("#"),hash=urlFragments[1],targetFragments=urlFragments[0].split("?"),path1=targetFragments[0],search=targetFragments[1];"/"!==path1&&path1.endsWith("/")&&(path1=path1.substring(0,path1.length-1));let url=path1;search&&(url+=`?${search}`);let urlWithHash=url;return hash&&(urlWithHash+=`#${hash}`),void 0===hash&&(hash=""),{path:path1,search,url,urlWithHash,hash}}function extractParamValue(value){return"true"===value||"false"!==value&&(value?decodeURIComponent(value.replace(/\+/g," ")):"")}function routeMatches(url,route){let{path:path1}=extractLocation(url),urlPaths=path1.split("/"),routePaths=route.split("/"),params={},length=Math.max(urlPaths.length,routePaths.length),catchall=!1;for(let i=0;i<length;i++)if(!catchall){if("*"===routePaths[i])catchall=!0;else if(routePaths[i]&&routePaths[i].startsWith(":")){let key=routePaths[i].replace(":","");params[key]=extractParamValue(urlPaths[i])}else if(routePaths[i]!==urlPaths[i])return!1}return params}function erase(node){node.type=!1,delete node.attributes,delete node.children}function routable_match(node){return node&&void 0!==node.attributes&&void 0!==node.attributes.route}function load(param){let{router:router1}=param;router1._routes={}}function routable_transform(param){let{node,depth,router:router1}=param;if(!routable_match(node))return;let routeDepth=depth.slice(0,depth.lastIndexOf("-"));if(void 0!==router1._routes[routeDepth])erase(node);else{let params=routeMatches(router1.url,node.attributes.route);params?(router1._routes[routeDepth]=!0,Object.assign(router1._segments,params)):erase(node)}}let routable={load,transform:routable_transform,client:!0,server:!0},plugins=[parameterizable,anchorable,routable,bindable];function transformNodes(scope,node,depth){for(let plugin of plugins)plugin.transform({...scope.context,node,depth})}function loadPlugins(scope){for(let plugin of plugins)plugin.load&&plugin.load(scope.context);return plugins}function useClientPlugins(plugin){plugin.client&&plugins.push(plugin)}function useServerPlugins(plugin){plugin.server&&plugins.push(plugin)}async function generateBranch(siblings,node,depth,scope){if(transformNodes(scope,node,depth),isUndefined(node)){let message="Attempting to render an undefined node. \n";throw void 0===node?message+="This error usually happens because of a missing return statement around JSX or returning undefined from a renderable function.":message+="This error usually happens because of a missing import statement or a typo on a component tag",Error(message)}if(isFalse(node)){siblings.push({type:!1,attributes:{}});return}if(isClass(node)){let memory;let key=generateKey(scope,node,depth),instance=scope.instances[key];instance||(instance=new node.type(scope)),instance.persistent=!!node.attributes.persistent,instance.key=key,instance._attributes=node.attributes,instance._scope=scope,scope.memory&&(memory=scope.memory[key])&&(instance.prerendered=!0,instance.initiated=!0,Object.assign(instance,memory),delete scope.memory[key]);let shouldHydrate=!1,shouldLaunch=instance.initiated&&(!instance.prerendered||instance.persistent&&instance.terminated);instance.terminated&&(shouldHydrate=!0,instance.terminated=!1);let shouldPrepare=void 0===scope.instances[key];scope.instances[key]=instance,shouldPrepare&&(void 0===memory&&(instance.prepare&&instance.prepare(),scope.context.environment.server?(instance.initiate&&await instance.initiate(),instance.initiated=!0,instance.launch&&instance.launch()):scope.initiationQueue.push(instance)),shouldHydrate=!0),scope.hydrationQueue&&(shouldHydrate?(shouldLaunch&&instance.launch&&instance.launch(),scope.hydrationQueue.push(instance)):!0===instance.initiated&&instance.update&&instance.update()),scope.context.environment.client&&scope.renewalQueue.push(instance);let children=instance.render();children&&children.type&&(children.instance=instance),node.children=[].concat(children);for(let i=0;i<node.children.length;i++)await generateBranch(siblings,node.children[i],`${depth}-${i}`,scope);return}if("body"===node.type||"html"===node.type||"window"===node.type){let tagName=node.type;for(let attribute in node.type=fragment,node.attributes)if(!("children"===attribute||attribute.startsWith("_"))){if(attribute.startsWith("on")){if(scope.context.environment.server)continue;if(scope.nextMeta[tagName][attribute]||(scope.nextMeta[tagName][attribute]=[]),Array.isArray(node.attributes[attribute]))for(let callback of node.attributes[attribute])"object"==typeof callback?scope.nextMeta[tagName][attribute].push(()=>Object.assign(node.attributes.source,callback)):scope.nextMeta[tagName][attribute].push(callback);else scope.nextMeta[tagName][attribute].push(node.attributes[attribute])}else"window"!==tagName&&("class"===attribute||"style"===attribute?(scope.nextMeta[tagName][attribute]||(scope.nextMeta[tagName][attribute]=[]),scope.nextMeta[tagName][attribute].push(node.attributes[attribute])):scope.nextMeta[tagName][attribute]=node.attributes[attribute])}}if(isFunction(node)){let context=node.type.name?scope.generateContext(node.attributes):node.attributes,children=node.type(context);node.children=[].concat(children);for(let i=0;i<node.children.length;i++)await generateBranch(siblings,node.children[i],`${depth}-${i}`,scope);return}if(node.type){if("head"===node.type){siblings.push({type:!1,attributes:{}});for(let i=0;i<node.children.length;i++){let id=`${depth}-${i}`;await generateBranch(scope.nextHead,node.children[i],id,scope),scope.nextHead[scope.nextHead.length-1].attributes.id??=id}}else if(node.children){let branch={type:node.type,attributes:node.attributes,children:[]};for(let i=0;i<node.children.length;i++)await generateBranch(branch.children,node.children[i],`${depth}-${i}`,scope);siblings.push(branch)}return}siblings.push({type:"text",text:node})}async function generateTree(node,scope){let tree={type:"div",attributes:{id:"application"},children:[]};return await generateBranch(tree.children,node,"0",scope),tree}let objectProxyHandler={set(target,name,value){return isProxyable(name,value)?target[name]=new Proxy(value,this):target[name]=value,name.startsWith("_")||client_client.update(),!0},get:(target,name,receiver)=>"_isProxy"===name||Reflect.get(target,name,receiver)};function isProxyable(name,value){if(name.startsWith("_"))return!1;let constructor=value?.constructor;return!!constructor&&!value._isProxy&&(constructor===Array||constructor===Object)}function generateObjectProxy(name,value){if(isProxyable(name,value)){if("object"==typeof value)for(let key of Object.keys(value))value[key]=generateObjectProxy(key,value[key]);return new Proxy(value,objectProxyHandler)}return value}let reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,reMsAjax=/^\/Date\((d|-|.*)\)[/|\\]$/;function dateParser(key,value){if("string"==typeof value){let a=reISO.exec(value);if(a)return new Date(value);if(a=reMsAjax.exec(value)){let b=a[1].split(/[-+,.]/);return new Date(b[0]?+b[0]:0-+b[1])}}return value}function deserialize(string){return JSON.parse(string,dateParser)}let state=deserialize(decodeURIComponent(document.querySelector("[name=nullstack]").content)),context={};for(let key of Object.keys(state.context))context[key]=generateObjectProxy(key,state.context[key]);let contextProxyHandler={set:(target,name,value)=>(context[name]=generateObjectProxy(name,value),client_client.update(),!0),get:(target,name)=>"_isProxy"===name||(void 0===target[name]?context[name]:target[name])};function generateContext(temporary){return new Proxy(temporary,contextProxyHandler)}let client_context=context;function sanitizeHtml(unsafe){return unsafe.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sanitizeString(unsafe){return unsafe.replace(/<\//g,"<\\\\/")}function sanitizeInnerHtml(unsafe){return void 0===unsafe||"string"!=typeof unsafe?"":unsafe.replaceAll("<\\","<")}let generateTruthyString_seed=Object.freeze([]);function generateTruthyString(elements){return generateTruthyString_seed.concat(...elements).filter(Boolean).join(" ")}let environment={...state.environment,client:!0,server:!1,event:"nullstack.environment"};function windowEvent(name){clearTimeout(null),setTimeout(()=>{let event=new Event(`nullstack.${name}`);window.dispatchEvent(event)},0)}let page={...state.page,event:"nullstack.page"};delete state.page;let pageProxyHandler={set(target,name,value,receiver){let result=Reflect.set(target,name,value,receiver);return"title"===name?(document.title=value,document.querySelector('head > meta[property="og:title"]').setAttribute("content",value),windowEvent("page")):"description"===name?(document.querySelector('head > meta[name="description"]').setAttribute("content",value),document.querySelector('head > meta[property="og:description"]').setAttribute("content",value)):"locale"===name?(document.querySelector("html").setAttribute("lang",value),document.querySelector('head > meta[property="og:locale"]').setAttribute("content",value)):"image"===name?document.querySelector('head > meta[property="og:image"]').setAttribute("content",value):"canonical"===name&&(canonical=-1===path.indexOf("//")?router.base+value:value,document.querySelector('head > link[rel="canonical"]').setAttribute("href",canonical)),client_client.update(),result}},proxy=new Proxy(page,pageProxyHandler),client_page=proxy;function getQueryStringParams(url){let query=url.split("?")[1];return query?query.split("&").reduce((params,param)=>{let[key,value]=param.split("=");return params[key]=extractParamValue(value),params},{}):{}}let segments={};function resetSegments(){for(let key in segments)delete segments[key]}let paramsProxyHandler={set(target,name,value){let serializedValue=serializeParam(value);target[name]=serializedValue;let search=serializeSearch(target);return client_router.url=client_router.path+(search?"?":"")+search,!0},get:(target,name)=>!1!==target[name]&&!1!==segments[name]&&(target[name]||segments[name]||"")},params={...state.params};delete state.params;let params_proxy=new Proxy(params,paramsProxyHandler);function updateParams(query){resetSegments();let delta=getQueryStringParams(query);for(let key of Object.keys({...delta,...params}))params[key]=delta[key];return params_proxy}let worker={...state.worker};delete state.worker;let emptyQueue=Object.freeze([]),queuesProxyHandler={set:(target,name,value)=>(target[name]=value,client_client.update(),!0),get:(target,name)=>target[name]||emptyQueue};worker.queues=new Proxy({},queuesProxyHandler);let workerProxyHandler={set:(target,name,value)=>(target[name]!==value&&(target[name]=value,client_client.update()),!0)},worker_proxy=new Proxy(worker,workerProxyHandler);async function register(){if(environment.production)try{worker_proxy.registration=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"})}catch(error){console.error(error)}}async function unregister(){if(!environment.development)return;let registrations=await navigator.serviceWorker.getRegistrations();for(let registration of registrations)window.location.reload(),console.log("SW FOUND",{registration}),registration.unregister()}worker.enabled&&"serviceWorker"in navigator&&(window.addEventListener("beforeinstallprompt",async function(event){event.preventDefault(),worker_proxy.installation=event,unregister()}),register()),window.addEventListener("online",()=>{worker_proxy.online=!0,"ssg"===environment.mode?client_router._update(client_router.url):worker_proxy.responsive=!0}),window.addEventListener("offline",()=>{worker_proxy.online=!1});let client_worker=worker_proxy;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}let redirectTimer=null;class Router{async _popState(){let{urlWithHash}=extractLocation(window.location.pathname+window.location.search);await this._update(urlWithHash,!1)}async _update(target,push){let{url,path:path1,hash,urlWithHash}=extractLocation(target);(url!==this._url||this._hash!==hash)&&(this.previous=this.url,clearTimeout(redirectTimer),redirectTimer=setTimeout(async()=>{if(client_page.status=200,"ssg"===environment.mode){client_worker.fetching=!0;let api="/index.json";try{let response=await fetch("/"===path1?api:path1+api),meta=await response.text(),payload=deserialize(meta);for(let key in client_client.memory=payload.instances,payload.page)client_page[key]=payload.page[key];client_worker.responsive=!0}catch(error){client_worker.responsive=!1}client_worker.fetching=!1}push&&history.pushState({},document.title,urlWithHash),this._url=url,this._hash=hash,this._changed=!0,updateParams(url),client_client.update(),windowEvent("router")},0))}async _redirect(target){if(/^(\w+:|\/\/)([^.]+.)/.test(target))return window.location.href=target;let absoluteUrl=new URL(target,document.baseURI);await this._update(absoluteUrl.pathname+absoluteUrl.search+absoluteUrl.hash,!0),window.scroll(0,0)}get url(){return this._url}set url(target){this._redirect(target)}get path(){return extractLocation(this._url).path}set path(target){this._redirect(target+window.location.search)}get base(){return this._base||(this._base=new URL(document.querySelector('[rel="canonical"]').href).origin),this._base}constructor(){_defineProperty(this,"event","nullstack.router"),_defineProperty(this,"previous",null),_defineProperty(this,"_changed",!1),_defineProperty(this,"_segments",segments);let{hash,url}=extractLocation(window.location.pathname+window.location.search);this._url=url,this._hash=hash}}let router_router=new Router,client_router=router_router;function anchorableElement(element){let links=element.querySelectorAll('a[href^="/"]:not([target])');for(let link of links)link.addEventListener("click",event=>{event.ctrlKey||event.shiftKey||event.altKey||event.metaKey||(event.preventDefault(),client_router.url=link.getAttribute("href"))})}function camelize(key){return key.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(m,chr)=>chr.toUpperCase())}function kebabize(key){return key.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}let eventCallbacks=new WeakMap,eventSubjects=new WeakMap,eventDebouncer=new WeakMap;function generateSubject(selector,attributes,name){if(Array.isArray(attributes[name])){for(let i=0;i<attributes[name].length;i++)if("object"==typeof attributes[name][i]){let changeset=attributes[name][i];attributes[name][i]=()=>Object.assign(attributes.source,changeset)}}else if("object"==typeof attributes[name]){let changeset=attributes[name];attributes[name]=()=>Object.assign(attributes.source,changeset)}eventSubjects.set(selector,attributes)}function debounce(selector,name,time,callback){if(time){let eventMap=eventDebouncer.get(selector)||{};clearTimeout(eventMap[name]),eventMap[name]=setTimeout(callback,time),eventDebouncer.set(selector,eventMap)}else callback()}function generateCallback(selector,name){let eventNames=eventCallbacks.get(selector);eventNames||(eventNames={},eventCallbacks.set(selector,eventNames));let callback=function eventCallback(event){let subject=eventSubjects.get(selector);subject&&(subject.href?event.ctrlKey||event.shiftKey||event.altKey||event.metaKey||(event.preventDefault(),client_router.url=subject.href):!0!==subject.default&&event.preventDefault(),debounce(selector,name,subject.debounce,()=>{let data={...subject.data};for(let attribute in subject)if(attribute.startsWith("data-")){let key=camelize(attribute.slice(5));data[key]=subject[attribute]}if(subject?.bind!==void 0){let valueName="checkbox"===subject.type||"radio"===subject.type?"checked":"value",object=subject.bind.object,property=subject.bind.property;if("checked"===valueName)object[property]=event.target[valueName];else if(!0===object[property]||!1===object[property])object[property]="true"===event.target[valueName];else if("number"==typeof object[property])object[property]=+event.target[valueName]||0;else if(object[property]instanceof Date){let[yyyy,mm,dd]=event.target[valueName].split("-");object[property].setFullYear(yyyy),object[property].setMonth(+mm-1),object[property].setDate(dd),object[property]=object[property]}else object[property]=event.target[valueName]}if(subject[name]!==noop){if(Array.isArray(subject[name]))for(let subcallback of subject[name])subcallback({...subject,event,data});else subject[name]({...subject,event,data})}}))};return eventNames[name]=callback,callback}let refMap=new WeakMap;function setup(attributes,element){let object=attributes.ref.object,property=attributes.ref.property;"function"==typeof object[property]?setTimeout(()=>{object[property]({...attributes,element})},0):object[property]=element;let map=refMap.get(attributes.ref.object)||{};map[attributes.ref.property]=!0,refMap.set(attributes.ref.object,map)}function ref(attributes,element){attributes?.ref&&setup(attributes,element)}function reref(attributes,element){let map=refMap.get(attributes.ref.object);map?.[attributes.ref.property]||setup(attributes,element)}function render(node,options){if(isFalse(node)||"head"===node.type)return node.element=document.createComment(""),node.element;if(isText(node))return node.element=document.createTextNode(node.text),node.element;let svg=options&&options.svg||"svg"===node.type;for(let name in svg?node.element=document.createElementNS("http://www.w3.org/2000/svg",node.type):node.element=document.createElement(node.type),ref(node.attributes,node.element),node.attributes)if("debounce"!==name){if("html"===name)node.element.innerHTML=sanitizeInnerHtml(node.attributes[name]),node.head||anchorableElement(node.element);else if(name.startsWith("on")){if(void 0!==node.attributes[name]){let eventName=name.substring(2),callback=generateCallback(node.element,name);node.element.addEventListener(eventName,callback),generateSubject(node.element,node.attributes,name)}}else{let nodeValue;nodeValue=("class"===name||"style"===name)&&Array.isArray(node.attributes[name])?generateTruthyString(node.attributes[name]):node.attributes[name];let type=typeof nodeValue;"object"!==type&&"function"!==type&&("value"!==name&&!0===nodeValue?node.element.setAttribute(name,""):("value"===name||!1!==nodeValue&&null!=nodeValue)&&node.element.setAttribute(name,nodeValue))}}if(!node.attributes.html){for(let i=0;i<node.children.length;i++){let child=render(node.children[i],{svg});node.element.appendChild(child)}"select"===node.type&&(node.element.value=node.attributes.value)}return node.element}function updateAttributes(selector,currentAttributes,nextAttributes){let attributeNames=Object.keys({...currentAttributes,...nextAttributes});for(let name of attributeNames)if("debounce"!==name){if("ref"===name&&nextAttributes?.ref?.property)reref(nextAttributes,selector);else if("html"===name)nextAttributes[name]!==currentAttributes[name]&&(selector.innerHTML=sanitizeInnerHtml(nextAttributes[name]),anchorableElement(selector));else if("checked"===name||"value"===name)nextAttributes[name]!==currentAttributes[name]&&nextAttributes[name]!==selector[name]&&(selector[name]=nextAttributes[name]);else if(name.startsWith("on")){let eventName=name.substring(2),eventNames=eventCallbacks.get(selector);if(eventNames){let callback=eventNames[name];callback&&!nextAttributes[name]?(selector.removeEventListener(eventName,callback),delete eventNames[name]):nextAttributes[name]&&(callback||selector.addEventListener(eventName,generateCallback(selector,name)),generateSubject(selector,nextAttributes,name),eventSubjects.set(selector,nextAttributes))}else selector.addEventListener(eventName,generateCallback(selector,name))}else{let currentValue,nextValue;currentValue=("class"===name||"style"===name)&&Array.isArray(currentAttributes[name])?generateTruthyString(currentAttributes[name]):currentAttributes[name],nextValue=("class"===name||"style"===name)&&Array.isArray(nextAttributes[name])?generateTruthyString(nextAttributes[name]):nextAttributes[name];let type=typeof nextValue;"object"!==type&&"function"!==type&&(void 0!==currentValue&&void 0===nextValue?selector.removeAttribute(name):currentValue!==nextValue&&("value"!==name&&!1===nextValue||null==nextValue?selector.removeAttribute(name):"value"!==name&&!0===nextValue?selector.setAttribute(name,""):selector.setAttribute(name,nextValue)))}}}function updateHeadChild(current,next){if(isUndefined(current)&&!isUndefined(next)){let nextSelector=render(next);client_client.head.append(nextSelector);return}if(!isUndefined(current)&&isUndefined(next)){current.element.remove();return}if(next.element=current.element,!(isFalse(current)&&isFalse(next))){if(current.type!==next.type){let nextSelector=render(next);current.element.replaceWith(nextSelector);return}updateAttributes(current.element,current.attributes,next.attributes)}}function updateHeadChildren(currentChildren,nextChildren){let limit=Math.max(currentChildren.length,nextChildren.length);for(let i=0;i<limit;i++)updateHeadChild(currentChildren[i],nextChildren[i])}function _rerender(current,next){let selector=current.element;if(next.element=current.element,!(isFalse(current)&&isFalse(next))){if(current.type!==next.type){let nextSelector=render(next);selector.replaceWith(nextSelector);return}if("textarea"===current.type){current.attributes.value=current.children[0].text,next.attributes.value=next.children[0].text,updateAttributes(selector,current.attributes,next.attributes);return}if(isText(current)&&isText(next)){current.text!==next.text&&(selector.textContent=next.text);return}if(!next.attributes.html){let limit=Math.max(current.children.length,next.children.length);if(next.children.length>current.children.length){for(let i=0;i<current.children.length;i++)_rerender(current.children[i],next.children[i]);for(let i=current.children.length;i<next.children.length;i++){let nextSelector=render(next.children[i]);selector.appendChild(nextSelector)}}else if(current.children.length>next.children.length){for(let i=0;i<next.children.length;i++)_rerender(current.children[i],next.children[i]);for(let i=current.children.length-1;i>=next.children.length;i--)selector.childNodes[i].remove()}else for(let i=limit-1;i>-1;i--)_rerender(current.children[i],next.children[i])}updateAttributes(selector,current.attributes,next.attributes)}}function rerender(){_rerender(client_client.virtualDom,client_client.nextVirtualDom),updateAttributes(client_client.body,client_client.currentMeta.body,client_client.nextMeta.body),updateAttributes(window,client_client.currentMeta.window,client_client.nextMeta.window),updateAttributes(client_client.body.parentElement,client_client.currentMeta.html,client_client.nextMeta.html),updateHeadChildren(client_client.currentHead,client_client.nextHead),client_client.virtualDom=client_client.nextVirtualDom,client_client.nextVirtualDom=null,client_client.currentMeta=client_client.nextMeta,client_client.nextMeta={body:{},html:{},window:{}},client_client.currentHead=client_client.nextHead,client_client.nextHead=[]}let client={};client.initialized=!1,client.initializer=null,client.instances={},client_context.instances=client.instances,client.initiationQueue=[],client.renewalQueue=[],client.hydrationQueue=[],client.realHydrationQueue=[],client.virtualDom={},client.selector=null,client.events={},client.generateContext=generateContext,client.renderQueue=null,client.currentMeta={body:{},html:{},window:{}},client.nextMeta={body:{},html:{},window:{}},client.currentHead=[],client.nextHead=[],client.head=document.head,client.body=document.body,client.update=function update(){client.initialized&&(clearInterval(client.renderQueue),client.renderQueue=setTimeout(async()=>{let scope=client;scope.context=client_context,scope.plugins=loadPlugins(scope),client.initialized=!1,client.renewalQueue=[];try{client.nextVirtualDom=await generateTree(client.initializer(),scope),rerender(),client.processLifecycleQueues()}catch(error){if(client.skipHotReplacement=!0,client_context.catch)client_context.catch(error);else throw error}},16))},client.processLifecycleQueues=async function processLifecycleQueues(){client.initialized||(client.initialized=!0);let shouldUpdate=!1,shouldScroll=client_router._hash;for(;client.initiationQueue.length;){let instance=client.initiationQueue.shift();if(instance.initiate&&await instance.initiate(),instance.initiated=!0,instance.launch&&instance.launch(),shouldUpdate=!0,instance._attributes.route&&shouldScroll){let element=document.getElementById(client_router._hash);element&&element.scrollIntoView({behavior:"smooth"}),shouldScroll=!1}}for(shouldUpdate&&client.update(),shouldUpdate=!1;client.realHydrationQueue.length;){shouldUpdate=!0;let instance=client.realHydrationQueue.shift();instance.hydrate&&await instance.hydrate(),instance.hydrated=!0}for(shouldUpdate&&client.update(),shouldUpdate=!1;client.hydrationQueue.length;){shouldUpdate=!0;let instance=client.hydrationQueue.shift();client.realHydrationQueue.push(instance)}for(let key in shouldUpdate&&client.update(),client.instances){let instance=client.instances[key];client.renewalQueue.includes(instance)||instance.terminated||(instance.terminate&&await instance.terminate(),instance.persistent?instance.terminated=!0:delete client.instances[key])}client_router._changed=!1};let client_client=client,pool=[];function hydrateBody(selector,node){for(let element of(node?.attributes?.html&&anchorableElement(selector),node.element=selector,ref(node.attributes,selector),selector.childNodes))("TEXTAREA"===element.tagName||"textarea"===element.tagName)&&0===element.childNodes.length?element.appendChild(document.createTextNode("")):8===element.COMMENT_NODE&&"#"===element.textContent&&pool.push(element.remove());if(!node.children)return;let limit=node.children.length;for(let i=limit-1;i>-1;i--){if("head"!==node.type&&void 0===selector?.childNodes?.[i])throw console.error(`${node.type.toUpperCase()} expected tag ${node.children[i].type.toUpperCase()} to be child at index ${i} but instead found undefined. This error usually happens because of an invalid HTML hierarchy or changes in comparisons after serialization.`,selector),Error("Virtual DOM does not match the DOM.");hydrateBody(selector.childNodes[i],node.children[i])}}function hydrateHead(){for(let node of client_client.nextHead)isFalse(node)?(node.element=pool.pop()||document.createComment(""),client_client.head.append(node.element)):node.element=document.getElementById(node.attributes.id);pool=null}function hydrate(selector,node){hydrateBody(selector,node),hydrateHead()}let instanceProxies=new WeakMap,instanceProxyHandler={get(target,name,receiver){if("_isProxy"===name)return!0;if(target.constructor[name]?.name==="_invoke")return target.constructor[name].bind(target.constructor);if("function"==typeof target[name]&&"constructor"!==name){let proxy=instanceProxies.get(target);if(name.startsWith("_"))return target[name].bind(proxy);let{[name]:named}={[name]:args=>{let result;let scopedContext=generateContext({...target._attributes,...args});try{result=target[name].call(proxy,scopedContext)}catch(error){if(client_context.catch)client_context.catch(error);else throw error;return null}return result instanceof Promise?new Promise((resolve,reject)=>{result.then(resolve).catch(error=>{client_context.catch?client_context.catch(error):reject(error)})}):result}};return named}return Reflect.get(target,name,receiver)},set:(target,name,value)=>(name.startsWith("_")?target[name]=value:(target[name]=generateObjectProxy(name,value),client_client.update()),!0)},project={...state.project};delete state.project,Object.freeze(project);let settings={...state.settings};function client_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}delete state.settings,Object.freeze(settings),client_context.page=client_page,client_context.router=client_router,client_context.settings=settings,client_context.worker=client_worker,client_context.params=params_proxy,client_context.project=project,client_context.environment=state.environment,client_client.memory=state.instances;let scope=client_client;scope.generateContext=generateContext,scope.context=client_context,client_client.plugins=loadPlugins(scope),environment.development&&(globalThis.$nullstack=client_context);class Nullstack{static start(Starter){return setTimeout(async()=>{if(window.addEventListener("popstate",()=>{client_router._popState()}),client_client.initializer)return client_client.initializer=()=>element_element(Starter),client_client.update(),this.context;if(client_client.routes={},updateParams(client_router.url),client_client.currentInstance=null,client_client.initializer=()=>element_element(Starter),client_client.selector=document.getElementById("application"),"spa"===environment.mode){scope.plugins=loadPlugins(scope),client_worker.online=navigator.onLine,"function"==typeof client_context.start&&await client_context.start(client_context),client_context.environment=environment,client_client.virtualDom=await generateTree(client_client.initializer(),scope);let body=render(client_client.virtualDom);client_client.selector.replaceWith(body),client_client.selector=body}else client_client.virtualDom=await generateTree(client_client.initializer(),scope),hydrate(client_client.selector,client_client.virtualDom),client_client.currentMeta=client_client.nextMeta,client_client.currentHead=client_client.nextHead,client_client.nextMeta={body:{},html:{},window:{}},client_client.nextHead=[],client_context.environment=environment,scope.plugins=loadPlugins(scope),client_worker.online=navigator.onLine,"function"==typeof client_context.start&&await client_context.start(client_context),client_client.nextVirtualDom=await generateTree(client_client.initializer(),scope),rerender();client_client.processLifecycleQueues(),delete state.context},0),this.context}render(){return!1}constructor(){client_defineProperty(this,"prerendered",!1),client_defineProperty(this,"initiated",!1),client_defineProperty(this,"hydrated",!1),client_defineProperty(this,"terminated",!1),client_defineProperty(this,"key",null);let proxy=new Proxy(this,instanceProxyHandler);return instanceProxies.set(this,proxy),proxy}}function invoke(name,hash){return async function _invoke(){let payload,params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};client_worker.fetching=!0,Object.isFrozen(client_worker.queues[name])?client_worker.queues[name]=[params]:client_worker.queues[name]=[...client_worker.queues[name],params];let url=`${client_worker.api}/nullstack/${hash===this.hash?hash:`${hash}-${this.hash}`}/${name}.json`,body=JSON.stringify(params||{}),options={headers:client_worker.headers,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"};/get[A-Z]([*]*)/.test(name)?(options.method="GET",url+=`?payload=${encodeURIComponent(body)}`):(options.body=body,/patch[A-Z]([*]*)/.test(name)?options.method="PATCH":/put[A-Z]([*]*)/.test(name)?options.method="PUT":/delete[A-Z]([*]*)/.test(name)?options.method="DELETE":options.method="POST");try{let response=await fetch(url,options);client_page.status=response.status;let text=await response.text();payload=deserialize(text).result,client_worker.responsive=!0}catch(e){client_worker.responsive=!1}return client_worker.queues[name]?.length===1?delete client_worker.queues[name]:client_worker.queues[name]=client_worker.queues[name].filter(task=>task!==params),client_worker.fetching=!!Object.keys(client_worker.queues).length,payload}}client_defineProperty(Nullstack,"use",useClientPlugins),client_defineProperty(Nullstack,"context",generateContext({}));let queue={},next=null;async function preload(){cancelIdleCallback(next);let entry=Object.entries(queue)[0];if(!entry)return;let loader=entry[1];loader&&(await loader.load(),next=requestIdleCallback(preload))}function lazy(hash,importer){let loader={load:async()=>{let mod=await importer();loader.component=mod.default,delete queue[hash],client_client.update()},component:null,__nullstack_lazy:!0};return queue[hash]=loader,loader}window.addEventListener("blur",()=>{preload()}),window.addEventListener("focus",()=>{cancelIdleCallback(next)});let $runtime={element:element_element,fragment:fragment,invoke:invoke,lazy:lazy};$runtime.restart=function restart(target,path1){target.hot.accept(),target.hot.accept(path1,()=>{window.location.reload()})};class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(reason){super(`Invalid DateTime: ${reason.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(reason){super(`Invalid Interval: ${reason.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(reason){super(`Invalid Duration: ${reason.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(unit){super(`Invalid unit ${unit}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}let n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};function stringify(obj){return JSON.stringify(obj,Object.keys(obj).sort())}let monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(length){switch(length){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}let weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(length){switch(length){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}let meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(length){switch(length){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function meridiemForDateTime(dt){return meridiems[dt.hour<12?0:1]}function weekdayForDateTime(dt,length){return weekdays(length)[dt.weekday-1]}function monthForDateTime(dt,length){return months(length)[dt.month-1]}function eraForDateTime(dt,length){return eras(length)[dt.year<0?0:1]}function formatRelativeTime(unit,count){let numeric=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",narrow=arguments.length>3&&void 0!==arguments[3]&&arguments[3],units={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},lastable=-1===["hours","minutes","seconds"].indexOf(unit);if("auto"===numeric&&lastable){let isDay="days"===unit;switch(count){case 1:return isDay?"tomorrow":`next ${units[unit][0]}`;case -1:return isDay?"yesterday":`last ${units[unit][0]}`;case 0:return isDay?"today":`this ${units[unit][0]}`}}let isInPast=Object.is(count,-0)||count<0,fmtValue=Math.abs(count),singular=1===fmtValue,lilUnits=units[unit],fmtUnit=narrow?singular?lilUnits[1]:lilUnits[2]||lilUnits[1]:singular?units[unit][0]:unit;return isInPast?`${fmtValue} ${fmtUnit} ago`:`in ${fmtValue} ${fmtUnit}`}function formatString(knownFormat){let filtered=pick(knownFormat,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle"]),key=stringify(filtered),dateTimeHuge="EEEE, LLLL d, yyyy, h:mm a";switch(key){case stringify(Formats.DATE_SHORT):return"M/d/yyyy";case stringify(Formats.DATE_MED):return"LLL d, yyyy";case stringify(Formats.DATE_MED_WITH_WEEKDAY):return"EEE, LLL d, yyyy";case stringify(Formats.DATE_FULL):return"LLLL d, yyyy";case stringify(Formats.DATE_HUGE):return"EEEE, LLLL d, yyyy";case stringify(Formats.TIME_SIMPLE):return"h:mm a";case stringify(Formats.TIME_WITH_SECONDS):return"h:mm:ss a";case stringify(Formats.TIME_WITH_SHORT_OFFSET):case stringify(Formats.TIME_WITH_LONG_OFFSET):return"h:mm a";case stringify(Formats.TIME_24_SIMPLE):return"HH:mm";case stringify(Formats.TIME_24_WITH_SECONDS):return"HH:mm:ss";case stringify(Formats.TIME_24_WITH_SHORT_OFFSET):case stringify(Formats.TIME_24_WITH_LONG_OFFSET):return"HH:mm";case stringify(Formats.DATETIME_SHORT):return"M/d/yyyy, h:mm a";case stringify(Formats.DATETIME_MED):return"LLL d, yyyy, h:mm a";case stringify(Formats.DATETIME_FULL):return"LLLL d, yyyy, h:mm a";case stringify(Formats.DATETIME_HUGE):return dateTimeHuge;case stringify(Formats.DATETIME_SHORT_WITH_SECONDS):return"M/d/yyyy, h:mm:ss a";case stringify(Formats.DATETIME_MED_WITH_SECONDS):return"LLL d, yyyy, h:mm:ss a";case stringify(Formats.DATETIME_MED_WITH_WEEKDAY):return"EEE, d LLL yyyy, h:mm a";case stringify(Formats.DATETIME_FULL_WITH_SECONDS):return"LLLL d, yyyy, h:mm:ss a";case stringify(Formats.DATETIME_HUGE_WITH_SECONDS):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return dateTimeHuge}}function util_isUndefined(o){return void 0===o}function isNumber(o){return"number"==typeof o}function isInteger(o){return"number"==typeof o&&o%1==0}function isString(o){return"string"==typeof o}function isDate(o){return"[object Date]"===Object.prototype.toString.call(o)}function hasRelative(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function maybeArray(thing){return Array.isArray(thing)?thing:[thing]}function bestBy(arr,by,compare){if(0!==arr.length)return arr.reduce((best,next)=>{let pair=[by(next),next];return best&&compare(best[0],pair[0])===best[0]?best:pair},null)[1]}function util_pick(obj,keys){return keys.reduce((a,k)=>(a[k]=obj[k],a),{})}function util_hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function integerBetween(thing,bottom,top){return isInteger(thing)&&thing>=bottom&&thing<=top}function floorMod(x,n){return x-n*Math.floor(x/n)}function padStart(input){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return input<0?"-"+(""+-input).padStart(n,"0"):(""+input).padStart(n,"0")}function parseInteger(string){if(!util_isUndefined(string)&&null!==string&&""!==string)return parseInt(string,10)}function parseFloating(string){if(!util_isUndefined(string)&&null!==string&&""!==string)return parseFloat(string)}function parseMillis(fraction){if(!util_isUndefined(fraction)&&null!==fraction&&""!==fraction){let f=1e3*parseFloat("0."+fraction);return Math.floor(f)}}function roundTo(number,digits){let towardZero=arguments.length>2&&void 0!==arguments[2]&&arguments[2],factor=10**digits;return(towardZero?Math.trunc:Math.round)(number*factor)/factor}function isLeapYear(year){return year%4==0&&(year%100!=0||year%400==0)}function daysInYear(year){return isLeapYear(year)?366:365}function daysInMonth(year,month){let modMonth=floorMod(month-1,12)+1;return 2===modMonth?isLeapYear(year+(month-modMonth)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][modMonth-1]}function objToLocalTS(obj){let d=Date.UTC(obj.year,obj.month-1,obj.day,obj.hour,obj.minute,obj.second,obj.millisecond);return obj.year<100&&obj.year>=0&&(d=new Date(d)).setUTCFullYear(d.getUTCFullYear()-1900),+d}function weeksInWeekYear(weekYear){let last=weekYear-1;return 4==(weekYear+Math.floor(weekYear/4)-Math.floor(weekYear/100)+Math.floor(weekYear/400))%7||3==(last+Math.floor(last/4)-Math.floor(last/100)+Math.floor(last/400))%7?53:52}function untruncateYear(year){return year>99?year:year>60?1900+year:2e3+year}function parseZoneInfo(ts,offsetFormat,locale){let timeZone=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,date=new Date(ts),intlOpts={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};timeZone&&(intlOpts.timeZone=timeZone);let modified={timeZoneName:offsetFormat,...intlOpts},parsed=new Intl.DateTimeFormat(locale,modified).formatToParts(date).find(m=>"timezonename"===m.type.toLowerCase());return parsed?parsed.value:null}function signedOffset(offHourStr,offMinuteStr){let offHour=parseInt(offHourStr,10);Number.isNaN(offHour)&&(offHour=0);let offMin=parseInt(offMinuteStr,10)||0,offMinSigned=offHour<0||Object.is(offHour,-0)?-offMin:offMin;return 60*offHour+offMinSigned}function asNumber(value){let numericValue=Number(value);if("boolean"==typeof value||""===value||Number.isNaN(numericValue))throw new InvalidArgumentError(`Invalid unit value ${value}`);return numericValue}function normalizeObject(obj,normalizer){let normalized={};for(let u in obj)if(util_hasOwnProperty(obj,u)){let v=obj[u];if(null==v)continue;normalized[normalizer(u)]=asNumber(v)}return normalized}function formatOffset(offset,format){let hours=Math.trunc(Math.abs(offset/60)),minutes=Math.trunc(Math.abs(offset%60)),sign=offset>=0?"+":"-";switch(format){case"short":return`${sign}${padStart(hours,2)}:${padStart(minutes,2)}`;case"narrow":return`${sign}${hours}${minutes>0?`:${minutes}`:""}`;case"techie":return`${sign}${padStart(hours,2)}${padStart(minutes,2)}`;default:throw RangeError(`Value format ${format} is out of range for property format`)}}function timeObject(obj){return util_pick(obj,["hour","minute","second","millisecond"])}let ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function stringifyTokens(splits,tokenToString){let s="";for(let token of splits)token.literal?s+=token.val:s+=tokenToString(token.val);return s}let macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(locale){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Formatter(locale,opts)}static parseFormat(fmt){let current=null,currentFull="",bracketed=!1,splits=[];for(let i=0;i<fmt.length;i++){let c=fmt.charAt(i);"'"===c?(currentFull.length>0&&splits.push({literal:bracketed,val:currentFull}),current=null,currentFull="",bracketed=!bracketed):bracketed?currentFull+=c:c===current?currentFull+=c:(currentFull.length>0&&splits.push({literal:!1,val:currentFull}),currentFull=c,current=c)}return currentFull.length>0&&splits.push({literal:bracketed,val:currentFull}),splits}static macroTokenToFormatOpts(token){return macroTokenToFormatOpts[token]}formatWithSystemDefault(dt,opts){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());let df=this.systemLoc.dtFormatter(dt,{...this.opts,...opts});return df.format()}formatDateTime(dt){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},df=this.loc.dtFormatter(dt,{...this.opts,...opts});return df.format()}formatDateTimeParts(dt){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},df=this.loc.dtFormatter(dt,{...this.opts,...opts});return df.formatToParts()}resolvedOptions(dt){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},df=this.loc.dtFormatter(dt,{...this.opts,...opts});return df.resolvedOptions()}num(n){let p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return padStart(n,p);let opts={...this.opts};return p>0&&(opts.padTo=p),this.loc.numberFormatter(opts).format(n)}formatDateTimeFromString(dt,fmt){let knownEnglish="en"===this.loc.listingMode(),useDateTimeFormatter=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,string=(opts,extract)=>this.loc.extract(dt,opts,extract),formatOffset=opts=>dt.isOffsetFixed&&0===dt.offset&&opts.allowZ?"Z":dt.isValid?dt.zone.formatOffset(dt.ts,opts.format):"",meridiem=()=>knownEnglish?meridiemForDateTime(dt):string({hour:"numeric",hourCycle:"h12"},"dayperiod"),month=(length,standalone)=>knownEnglish?monthForDateTime(dt,length):string(standalone?{month:length}:{month:length,day:"numeric"},"month"),weekday=(length,standalone)=>knownEnglish?weekdayForDateTime(dt,length):string(standalone?{weekday:length}:{weekday:length,month:"long",day:"numeric"},"weekday"),maybeMacro=token=>{let formatOpts=Formatter.macroTokenToFormatOpts(token);return formatOpts?this.formatWithSystemDefault(dt,formatOpts):token},era=length=>knownEnglish?eraForDateTime(dt,length):string({era:length},"era"),tokenToString=token=>{switch(token){case"S":return this.num(dt.millisecond);case"u":case"SSS":return this.num(dt.millisecond,3);case"s":return this.num(dt.second);case"ss":return this.num(dt.second,2);case"uu":return this.num(Math.floor(dt.millisecond/10),2);case"uuu":return this.num(Math.floor(dt.millisecond/100));case"m":return this.num(dt.minute);case"mm":return this.num(dt.minute,2);case"h":return this.num(dt.hour%12==0?12:dt.hour%12);case"hh":return this.num(dt.hour%12==0?12:dt.hour%12,2);case"H":return this.num(dt.hour);case"HH":return this.num(dt.hour,2);case"Z":return formatOffset({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return formatOffset({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return formatOffset({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return dt.zone.offsetName(dt.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return dt.zone.offsetName(dt.ts,{format:"long",locale:this.loc.locale});case"z":return dt.zoneName;case"a":return meridiem();case"d":return useDateTimeFormatter?string({day:"numeric"},"day"):this.num(dt.day);case"dd":return useDateTimeFormatter?string({day:"2-digit"},"day"):this.num(dt.day,2);case"c":case"E":return this.num(dt.weekday);case"ccc":return weekday("short",!0);case"cccc":return weekday("long",!0);case"ccccc":return weekday("narrow",!0);case"EEE":return weekday("short",!1);case"EEEE":return weekday("long",!1);case"EEEEE":return weekday("narrow",!1);case"L":return useDateTimeFormatter?string({month:"numeric",day:"numeric"},"month"):this.num(dt.month);case"LL":return useDateTimeFormatter?string({month:"2-digit",day:"numeric"},"month"):this.num(dt.month,2);case"LLL":return month("short",!0);case"LLLL":return month("long",!0);case"LLLLL":return month("narrow",!0);case"M":return useDateTimeFormatter?string({month:"numeric"},"month"):this.num(dt.month);case"MM":return useDateTimeFormatter?string({month:"2-digit"},"month"):this.num(dt.month,2);case"MMM":return month("short",!1);case"MMMM":return month("long",!1);case"MMMMM":return month("narrow",!1);case"y":return useDateTimeFormatter?string({year:"numeric"},"year"):this.num(dt.year);case"yy":return useDateTimeFormatter?string({year:"2-digit"},"year"):this.num(dt.year.toString().slice(-2),2);case"yyyy":return useDateTimeFormatter?string({year:"numeric"},"year"):this.num(dt.year,4);case"yyyyyy":return useDateTimeFormatter?string({year:"numeric"},"year"):this.num(dt.year,6);case"G":return era("short");case"GG":return era("long");case"GGGGG":return era("narrow");case"kk":return this.num(dt.weekYear.toString().slice(-2),2);case"kkkk":return this.num(dt.weekYear,4);case"W":return this.num(dt.weekNumber);case"WW":return this.num(dt.weekNumber,2);case"o":return this.num(dt.ordinal);case"ooo":return this.num(dt.ordinal,3);case"q":return this.num(dt.quarter);case"qq":return this.num(dt.quarter,2);case"X":return this.num(Math.floor(dt.ts/1e3));case"x":return this.num(dt.ts);default:return maybeMacro(token)}};return stringifyTokens(Formatter.parseFormat(fmt),tokenToString)}formatDurationFromString(dur,fmt){let tokenToField=token=>{switch(token[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},tokens=Formatter.parseFormat(fmt),realTokens=tokens.reduce((found,param)=>{let{literal,val}=param;return literal?found:found.concat(val)},[]),collapsed=dur.shiftTo(...realTokens.map(tokenToField).filter(t=>t));return stringifyTokens(tokens,token=>{let mapped=tokenToField(token);return mapped?this.num(collapsed.get(mapped),token.length):token})}constructor(locale,formatOpts){this.opts=formatOpts,this.loc=locale,this.systemLoc=null}}class Invalid{toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}constructor(reason,explanation){this.reason=reason,this.explanation=explanation}}class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(ts,opts){throw new ZoneIsAbstractError}formatOffset(ts,format){throw new ZoneIsAbstractError}offset(ts){throw new ZoneIsAbstractError}equals(otherZone){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton=null;class SystemZone extends Zone{static get instance(){return null===singleton&&(singleton=new SystemZone),singleton}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(ts,param){let{format,locale}=param;return parseZoneInfo(ts,format,locale)}formatOffset(ts,format){return formatOffset(this.offset(ts),format)}offset(ts){return-new Date(ts).getTimezoneOffset()}equals(otherZone){return"system"===otherZone.type}get isValid(){return!0}}let dtfCache={};function makeDTF(zone){return dtfCache[zone]||(dtfCache[zone]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:zone,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[zone]}let typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hackyOffset(dtf,date){let formatted=dtf.format(date).replace(/\u200E/g,""),parsed=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(formatted),[,fMonth,fDay,fYear,fadOrBc,fHour,fMinute,fSecond]=parsed;return[fYear,fMonth,fDay,fadOrBc,fHour,fMinute,fSecond]}function partsOffset(dtf,date){let formatted=dtf.formatToParts(date),filled=[];for(let i=0;i<formatted.length;i++){let{type,value}=formatted[i],pos=typeToPos[type];"era"===type?filled[pos]=value:util_isUndefined(pos)||(filled[pos]=parseInt(value,10))}return filled}let ianaZoneCache={};class IANAZone extends Zone{static create(name){return ianaZoneCache[name]||(ianaZoneCache[name]=new IANAZone(name)),ianaZoneCache[name]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(s){return this.isValidZone(s)}static isValidZone(zone){if(!zone)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:zone}).format(),!0}catch(e){return!1}}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(ts,param){let{format,locale}=param;return parseZoneInfo(ts,format,locale,this.name)}formatOffset(ts,format){return formatOffset(this.offset(ts),format)}offset(ts){let date=new Date(ts);if(isNaN(date))return NaN;let dtf=makeDTF(this.name),[year,month,day,adOrBc,hour,minute,second]=dtf.formatToParts?partsOffset(dtf,date):hackyOffset(dtf,date);"BC"===adOrBc&&(year=-Math.abs(year)+1);let asUTC=objToLocalTS({year,month,day,hour:24===hour?0:hour,minute,second,millisecond:0}),asTS=+date,over=asTS%1e3;return(asUTC-(asTS-=over>=0?over:1e3+over))/6e4}equals(otherZone){return"iana"===otherZone.type&&otherZone.name===this.name}get isValid(){return this.valid}constructor(name){super(),this.zoneName=name,this.valid=IANAZone.isValidZone(name)}}let fixedOffsetZone_singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return null===fixedOffsetZone_singleton&&(fixedOffsetZone_singleton=new FixedOffsetZone(0)),fixedOffsetZone_singleton}static instance(offset){return 0===offset?FixedOffsetZone.utcInstance:new FixedOffsetZone(offset)}static parseSpecifier(s){if(s){let r=s.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new FixedOffsetZone(signedOffset(r[1],r[2]))}return null}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(ts,format){return formatOffset(this.fixed,format)}get isUniversal(){return!0}offset(){return this.fixed}equals(otherZone){return"fixed"===otherZone.type&&otherZone.fixed===this.fixed}get isValid(){return!0}constructor(offset){super(),this.fixed=offset}}class InvalidZone extends Zone{get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}constructor(zoneName){super(),this.zoneName=zoneName}}function normalizeZone(input,defaultZone){if(util_isUndefined(input)||null===input)return defaultZone;if(input instanceof Zone)return input;if(isString(input)){let lowered=input.toLowerCase();return"local"===lowered||"system"===lowered?defaultZone:"utc"===lowered||"gmt"===lowered?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(lowered)||IANAZone.create(input)}return isNumber(input)?FixedOffsetZone.instance(input):"object"==typeof input&&input.offset&&"number"==typeof input.offset?input:new InvalidZone(input)}let now=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,throwOnInvalid;class Settings{static get now(){return now}static set now(n){now=n}static set defaultZone(zone){defaultZone=zone}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(locale){defaultLocale=locale}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(numberingSystem){defaultNumberingSystem=numberingSystem}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(outputCalendar){defaultOutputCalendar=outputCalendar}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(t){throwOnInvalid=t}static resetCaches(){Locale.resetCache(),IANAZone.resetCache()}}let intlLFCache={};function getCachedLF(locString){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},key=JSON.stringify([locString,opts]),dtf=intlLFCache[key];return dtf||(dtf=new Intl.ListFormat(locString,opts),intlLFCache[key]=dtf),dtf}let intlDTCache={};function getCachedDTF(locString){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},key=JSON.stringify([locString,opts]),dtf=intlDTCache[key];return dtf||(dtf=new Intl.DateTimeFormat(locString,opts),intlDTCache[key]=dtf),dtf}let intlNumCache={};function getCachedINF(locString){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},key=JSON.stringify([locString,opts]),inf=intlNumCache[key];return inf||(inf=new Intl.NumberFormat(locString,opts),intlNumCache[key]=inf),inf}let intlRelCache={};function getCachedRTF(locString){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{base,...cacheKeyOpts}=opts,key=JSON.stringify([locString,cacheKeyOpts]),inf=intlRelCache[key];return inf||(inf=new Intl.RelativeTimeFormat(locString,opts),intlRelCache[key]=inf),inf}let sysLocaleCache=null;function systemLocale(){return sysLocaleCache||(sysLocaleCache=new Intl.DateTimeFormat().resolvedOptions().locale)}function parseLocaleString(localeStr){let uIndex=localeStr.indexOf("-u-");if(-1===uIndex)return[localeStr];{let options;let smaller=localeStr.substring(0,uIndex);try{options=getCachedDTF(localeStr).resolvedOptions()}catch(e){options=getCachedDTF(smaller).resolvedOptions()}let{numberingSystem,calendar}=options;return[smaller,numberingSystem,calendar]}}function intlConfigString(localeStr,numberingSystem,outputCalendar){return(outputCalendar||numberingSystem)&&(localeStr+="-u",outputCalendar&&(localeStr+=`-ca-${outputCalendar}`),numberingSystem&&(localeStr+=`-nu-${numberingSystem}`)),localeStr}function mapMonths(f){let ms=[];for(let i=1;i<=12;i++){let dt=DateTime.utc(2016,i,1);ms.push(f(dt))}return ms}function mapWeekdays(f){let ms=[];for(let i=1;i<=7;i++){let dt=DateTime.utc(2016,11,13+i);ms.push(f(dt))}return ms}function listStuff(loc,length,defaultOK,englishFn,intlFn){let mode=loc.listingMode(defaultOK);return"error"===mode?null:"en"===mode?englishFn(length):intlFn(length)}function supportsFastNumbers(loc){return(!loc.numberingSystem||"latn"===loc.numberingSystem)&&("latn"===loc.numberingSystem||!loc.locale||loc.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem)}class PolyNumberFormatter{format(i){if(this.inf){let fixed=this.floor?Math.floor(i):i;return this.inf.format(fixed)}{let fixed=this.floor?Math.floor(i):roundTo(i,3);return padStart(fixed,this.padTo)}}constructor(intl,forceSimple,opts){this.padTo=opts.padTo||0,this.floor=opts.floor||!1;let{padTo,floor,...otherOpts}=opts;if(!forceSimple||Object.keys(otherOpts).length>0){let intlOpts={useGrouping:!1,...opts};opts.padTo>0&&(intlOpts.minimumIntegerDigits=opts.padTo),this.inf=getCachedINF(intl,intlOpts)}}}class PolyDateFormatter{format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}constructor(dt,intl,opts){let z;if(this.opts=opts,dt.zone.isUniversal){let gmtOffset=-1*(dt.offset/60),offsetZ=gmtOffset>=0?`Etc/GMT+${gmtOffset}`:`Etc/GMT${gmtOffset}`;0!==dt.offset&&IANAZone.create(offsetZ).valid?(z=offsetZ,this.dt=dt):(z="UTC",opts.timeZoneName?this.dt=dt:this.dt=0===dt.offset?dt:DateTime.fromMillis(dt.ts+6e4*dt.offset))}else"system"===dt.zone.type?this.dt=dt:(this.dt=dt,z=dt.zone.name);let intlOpts={...this.opts};z&&(intlOpts.timeZone=z),this.dtf=getCachedDTF(intl,intlOpts)}}class PolyRelFormatter{format(count,unit){return this.rtf?this.rtf.format(count,unit):formatRelativeTime(unit,count,this.opts.numeric,"long"!==this.opts.style)}formatToParts(count,unit){return this.rtf?this.rtf.formatToParts(count,unit):[]}constructor(intl,isEnglish,opts){this.opts={style:"long",...opts},!isEnglish&&hasRelative()&&(this.rtf=getCachedRTF(intl,opts))}}class Locale{static fromOpts(opts){return Locale.create(opts.locale,opts.numberingSystem,opts.outputCalendar,opts.defaultToEN)}static create(locale,numberingSystem,outputCalendar){let defaultToEN=arguments.length>3&&void 0!==arguments[3]&&arguments[3],specifiedLocale=locale||Settings.defaultLocale,localeR=specifiedLocale||(defaultToEN?"en-US":systemLocale()),numberingSystemR=numberingSystem||Settings.defaultNumberingSystem,outputCalendarR=outputCalendar||Settings.defaultOutputCalendar;return new Locale(localeR,numberingSystemR,outputCalendarR,specifiedLocale)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject(){let{locale,numberingSystem,outputCalendar}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Locale.create(locale,numberingSystem,outputCalendar)}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=supportsFastNumbers(this)),this.fastNumbersCached}listingMode(){let isActuallyEn=this.isEnglish(),hasNoWeirdness=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return isActuallyEn&&hasNoWeirdness?"en":"intl"}clone(alts){return alts&&0!==Object.getOwnPropertyNames(alts).length?Locale.create(alts.locale||this.specifiedLocale,alts.numberingSystem||this.numberingSystem,alts.outputCalendar||this.outputCalendar,alts.defaultToEN||!1):this}redefaultToEN(){let alts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...alts,defaultToEN:!0})}redefaultToSystem(){let alts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...alts,defaultToEN:!1})}months(length){let format=arguments.length>1&&void 0!==arguments[1]&&arguments[1],defaultOK=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return listStuff(this,length,defaultOK,months,()=>{let intl=format?{month:length,day:"numeric"}:{month:length},formatStr=format?"format":"standalone";return this.monthsCache[formatStr][length]||(this.monthsCache[formatStr][length]=mapMonths(dt=>this.extract(dt,intl,"month"))),this.monthsCache[formatStr][length]})}weekdays(length){let format=arguments.length>1&&void 0!==arguments[1]&&arguments[1],defaultOK=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return listStuff(this,length,defaultOK,weekdays,()=>{let intl=format?{weekday:length,year:"numeric",month:"long",day:"numeric"}:{weekday:length},formatStr=format?"format":"standalone";return this.weekdaysCache[formatStr][length]||(this.weekdaysCache[formatStr][length]=mapWeekdays(dt=>this.extract(dt,intl,"weekday"))),this.weekdaysCache[formatStr][length]})}meridiems(){let defaultOK=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return listStuff(this,void 0,defaultOK,()=>meridiems,()=>{if(!this.meridiemCache){let intl={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(dt=>this.extract(dt,intl,"dayperiod"))}return this.meridiemCache})}eras(length){let defaultOK=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return listStuff(this,length,defaultOK,eras,()=>{let intl={era:length};return this.eraCache[length]||(this.eraCache[length]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(dt=>this.extract(dt,intl,"era"))),this.eraCache[length]})}extract(dt,intlOpts,field){let df=this.dtFormatter(dt,intlOpts),results=df.formatToParts(),matching=results.find(m=>m.type.toLowerCase()===field);return matching?matching.value:null}numberFormatter(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new PolyNumberFormatter(this.intl,opts.forceSimple||this.fastNumbers,opts)}dtFormatter(dt){let intlOpts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new PolyDateFormatter(dt,this.intl,intlOpts)}relFormatter(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new PolyRelFormatter(this.intl,this.isEnglish(),opts)}listFormatter(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return getCachedLF(this.intl,opts)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(other){return this.locale===other.locale&&this.numberingSystem===other.numberingSystem&&this.outputCalendar===other.outputCalendar}constructor(locale,numbering,outputCalendar,specifiedLocale){let[parsedLocale,parsedNumberingSystem,parsedOutputCalendar]=parseLocaleString(locale);this.locale=parsedLocale,this.numberingSystem=numbering||parsedNumberingSystem||null,this.outputCalendar=outputCalendar||parsedOutputCalendar||null,this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=specifiedLocale,this.fastNumbersCached=null}}function combineRegexes(){for(var _len=arguments.length,regexes=Array(_len),_key=0;_key<_len;_key++)regexes[_key]=arguments[_key];let full=regexes.reduce((f,r)=>f+r.source,"");return RegExp(`^${full}$`)}function combineExtractors(){for(var _len=arguments.length,extractors=Array(_len),_key=0;_key<_len;_key++)extractors[_key]=arguments[_key];return m=>extractors.reduce((param,ex)=>{let[mergedVals,mergedZone,cursor]=param,[val,zone,next]=ex(m,cursor);return[{...mergedVals,...val},zone||mergedZone,next]},[{},null,1]).slice(0,2)}function parse(s){for(var _len=arguments.length,patterns=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)patterns[_key-1]=arguments[_key];if(null==s)return[null,null];for(let[regex,extractor]of patterns){let m=regex.exec(s);if(m)return extractor(m)}return[null,null]}function simpleParse(){for(var _len=arguments.length,keys=Array(_len),_key=0;_key<_len;_key++)keys[_key]=arguments[_key];return(match,cursor)=>{let i;let ret={};for(i=0;i<keys.length;i++)ret[keys[i]]=parseInteger(match[cursor+i]);return[ret,null,cursor+i]}}let offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoExtendedZone=`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function regexParser_int(match,pos,fallback){let m=match[pos];return util_isUndefined(m)?fallback:parseInteger(m)}function extractISOYmd(match,cursor){let item={year:regexParser_int(match,cursor),month:regexParser_int(match,cursor+1,1),day:regexParser_int(match,cursor+2,1)};return[item,null,cursor+3]}function extractISOTime(match,cursor){let item={hours:regexParser_int(match,cursor,0),minutes:regexParser_int(match,cursor+1,0),seconds:regexParser_int(match,cursor+2,0),milliseconds:parseMillis(match[cursor+3])};return[item,null,cursor+4]}function extractISOOffset(match,cursor){let local=!match[cursor]&&!match[cursor+1],fullOffset=signedOffset(match[cursor+1],match[cursor+2]),zone=local?null:FixedOffsetZone.instance(fullOffset);return[{},zone,cursor+3]}function extractIANAZone(match,cursor){let zone=match[cursor]?IANAZone.create(match[cursor]):null;return[{},zone,cursor+1]}let isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(match){let[s,yearStr,monthStr,weekStr,dayStr,hourStr,minuteStr,secondStr,millisecondsStr]=match,hasNegativePrefix="-"===s[0],negativeSeconds=secondStr&&"-"===secondStr[0],maybeNegate=function(num){let force=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==num&&(force||num&&hasNegativePrefix)?-num:num};return[{years:maybeNegate(parseFloating(yearStr)),months:maybeNegate(parseFloating(monthStr)),weeks:maybeNegate(parseFloating(weekStr)),days:maybeNegate(parseFloating(dayStr)),hours:maybeNegate(parseFloating(hourStr)),minutes:maybeNegate(parseFloating(minuteStr)),seconds:maybeNegate(parseFloating(secondStr),"-0"===secondStr),milliseconds:maybeNegate(parseMillis(millisecondsStr),negativeSeconds)}]}let obsOffsets={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){let result={year:2===yearStr.length?untruncateYear(parseInteger(yearStr)):parseInteger(yearStr),month:monthsShort.indexOf(monthStr)+1,day:parseInteger(dayStr),hour:parseInteger(hourStr),minute:parseInteger(minuteStr)};return secondStr&&(result.second=parseInteger(secondStr)),weekdayStr&&(result.weekday=weekdayStr.length>3?weekdaysLong.indexOf(weekdayStr)+1:weekdaysShort.indexOf(weekdayStr)+1),result}let rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(match){let offset;let[,weekdayStr,dayStr,monthStr,yearStr,hourStr,minuteStr,secondStr,obsOffset,milOffset,offHourStr,offMinuteStr]=match,result=fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr);return offset=obsOffset?obsOffsets[obsOffset]:milOffset?0:signedOffset(offHourStr,offMinuteStr),[result,new FixedOffsetZone(offset)]}function preprocessRFC2822(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}let rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(match){let[,weekdayStr,dayStr,monthStr,yearStr,hourStr,minuteStr,secondStr]=match,result=fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr);return[result,FixedOffsetZone.utcInstance]}function extractASCII(match){let[,weekdayStr,monthStr,dayStr,hourStr,minuteStr,secondStr,yearStr]=match,result=fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr);return[result,FixedOffsetZone.utcInstance]}let isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseISODate(s){return parse(s,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset])}function parseRFC2822Date(s){return parse(preprocessRFC2822(s),[rfc2822,extractRFC2822])}function parseHTTPDate(s){return parse(s,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII])}function parseISODuration(s){return parse(s,[isoDuration,extractISODuration])}let extractISOTimeOnly=combineExtractors(extractISOTime);function parseISOTimeOnly(s){return parse(s,[isoTimeOnly,extractISOTimeOnly])}let sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(s){return parse(s,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone])}let lowOrderMatrix={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...lowOrderMatrix},accurateMatrix={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238e3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...lowOrderMatrix},orderedUnits=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits.slice(0).reverse();function clone(dur,alts){let clear=arguments.length>2&&void 0!==arguments[2]&&arguments[2],conf={values:clear?alts.values:{...dur.values,...alts.values||{}},loc:dur.loc.clone(alts.loc),conversionAccuracy:alts.conversionAccuracy||dur.conversionAccuracy};return new Duration(conf)}function antiTrunc(n){return n<0?Math.floor(n):Math.ceil(n)}function convert(matrix,fromMap,fromUnit,toMap,toUnit){let conv=matrix[toUnit][fromUnit],raw=fromMap[fromUnit]/conv,sameSign=Math.sign(raw)===Math.sign(toMap[toUnit]),added=!sameSign&&0!==toMap[toUnit]&&1>=Math.abs(raw)?antiTrunc(raw):Math.trunc(raw);toMap[toUnit]+=added,fromMap[fromUnit]-=added*conv}function normalizeValues(matrix,vals){reverseUnits.reduce((previous,current)=>util_isUndefined(vals[current])?previous:(previous&&convert(matrix,vals,previous,vals,current),current),null)}class Duration{static fromMillis(count,opts){return Duration.fromObject({milliseconds:count},opts)}static fromObject(obj){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==obj||"object"!=typeof obj)throw new InvalidArgumentError(`Duration.fromObject: argument expected to be an object, got ${null===obj?"null":typeof obj}`);return new Duration({values:normalizeObject(obj,Duration.normalizeUnit),loc:Locale.fromObject(opts),conversionAccuracy:opts.conversionAccuracy})}static fromDurationLike(durationLike){if(isNumber(durationLike))return Duration.fromMillis(durationLike);if(Duration.isDuration(durationLike))return durationLike;if("object"==typeof durationLike)return Duration.fromObject(durationLike);throw new InvalidArgumentError(`Unknown duration argument ${durationLike} of type ${typeof durationLike}`)}static fromISO(text,opts){let[parsed]=parseISODuration(text);return parsed?Duration.fromObject(parsed,opts):Duration.invalid("unparsable",`the input "${text}" can't be parsed as ISO 8601`)}static fromISOTime(text,opts){let[parsed]=parseISOTimeOnly(text);return parsed?Duration.fromObject(parsed,opts):Duration.invalid("unparsable",`the input "${text}" can't be parsed as ISO 8601`)}static invalid(reason){let explanation=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!reason)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");let invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(!Settings.throwOnInvalid)return new Duration({invalid});throw new InvalidDurationError(invalid)}static normalizeUnit(unit){let normalized={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[unit?unit.toLowerCase():unit];if(!normalized)throw new InvalidUnitError(unit);return normalized}static isDuration(o){return o&&o.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(fmt){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},fmtOpts={...opts,floor:!1!==opts.round&&!1!==opts.floor};return this.isValid?Formatter.create(this.loc,fmtOpts).formatDurationFromString(this,fmt):"Invalid Duration"}toHuman(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=orderedUnits.map(unit=>{let val=this.values[unit];return util_isUndefined(val)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...opts,unit:unit.slice(0,-1)}).format(val)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:opts.listStyle||"narrow",...opts}).format(l)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let s="P";return 0!==this.years&&(s+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(s+=this.months+3*this.quarters+"M"),0!==this.weeks&&(s+=this.weeks+"W"),0!==this.days&&(s+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(s+="T"),0!==this.hours&&(s+=this.hours+"H"),0!==this.minutes&&(s+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(s+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===s&&(s+="T0S"),s}toISOTime(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;let millis=this.toMillis();if(millis<0||millis>=864e5)return null;opts={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...opts};let value=this.shiftTo("hours","minutes","seconds","milliseconds"),fmt="basic"===opts.format?"hhmm":"hh:mm";opts.suppressSeconds&&0===value.seconds&&0===value.milliseconds||(fmt+="basic"===opts.format?"ss":":ss",opts.suppressMilliseconds&&0===value.milliseconds||(fmt+=".SSS"));let str=value.toFormat(fmt);return opts.includePrefix&&(str="T"+str),str}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(duration){if(!this.isValid)return this;let dur=Duration.fromDurationLike(duration),result={};for(let k of orderedUnits)(util_hasOwnProperty(dur.values,k)||util_hasOwnProperty(this.values,k))&&(result[k]=dur.get(k)+this.get(k));return clone(this,{values:result},!0)}minus(duration){if(!this.isValid)return this;let dur=Duration.fromDurationLike(duration);return this.plus(dur.negate())}mapUnits(fn){if(!this.isValid)return this;let result={};for(let k of Object.keys(this.values))result[k]=asNumber(fn(this.values[k],k));return clone(this,{values:result},!0)}get(unit){return this[Duration.normalizeUnit(unit)]}set(values){if(!this.isValid)return this;let mixed={...this.values,...normalizeObject(values,Duration.normalizeUnit)};return clone(this,{values:mixed})}reconfigure(){let{locale,numberingSystem,conversionAccuracy}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},loc=this.loc.clone({locale,numberingSystem}),opts={loc};return conversionAccuracy&&(opts.conversionAccuracy=conversionAccuracy),clone(this,opts)}as(unit){return this.isValid?this.shiftTo(unit).get(unit):NaN}normalize(){if(!this.isValid)return this;let vals=this.toObject();return normalizeValues(this.matrix,vals),clone(this,{values:vals},!0)}shiftTo(){let lastUnit;for(var _len=arguments.length,units=Array(_len),_key=0;_key<_len;_key++)units[_key]=arguments[_key];if(!this.isValid||0===units.length)return this;units=units.map(u=>Duration.normalizeUnit(u));let built={},accumulated={},vals=this.toObject();for(let k of orderedUnits)if(units.indexOf(k)>=0){lastUnit=k;let own=0;for(let ak in accumulated)own+=this.matrix[ak][k]*accumulated[ak],accumulated[ak]=0;isNumber(vals[k])&&(own+=vals[k]);let i=Math.trunc(own);for(let down in built[k]=i,accumulated[k]=(1e3*own-1e3*i)/1e3,vals)orderedUnits.indexOf(down)>orderedUnits.indexOf(k)&&convert(this.matrix,vals,down,built,k)}else isNumber(vals[k])&&(accumulated[k]=vals[k]);for(let key in accumulated)0!==accumulated[key]&&(built[lastUnit]+=key===lastUnit?accumulated[key]:accumulated[key]/this.matrix[lastUnit][key]);return clone(this,{values:built},!0).normalize()}negate(){if(!this.isValid)return this;let negated={};for(let k of Object.keys(this.values))negated[k]=0===this.values[k]?0:-this.values[k];return clone(this,{values:negated},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(other){if(!this.isValid||!other.isValid||!this.loc.equals(other.loc))return!1;for(let u of orderedUnits){var v1,v2;if(v1=this.values[u],v2=other.values[u],void 0===v1||0===v1?void 0!==v2&&0!==v2:v1!==v2)return!1}return!0}constructor(config){let accurate="longterm"===config.conversionAccuracy;this.values=config.values,this.loc=config.loc||Locale.create(),this.conversionAccuracy=accurate?"longterm":"casual",this.invalid=config.invalid||null,this.matrix=accurate?accurateMatrix:casualMatrix,this.isLuxonDuration=!0}}let interval_INVALID="Invalid Interval";function validateStartEnd(start,end){return start&&start.isValid?end&&end.isValid?end<start?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${start.toISO()} and end=${end.toISO()}`):null:Interval.invalid("missing or invalid end"):Interval.invalid("missing or invalid start")}class Interval{static invalid(reason){let explanation=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!reason)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");let invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(!Settings.throwOnInvalid)return new Interval({invalid});throw new InvalidIntervalError(invalid)}static fromDateTimes(start,end){let builtStart=friendlyDateTime(start),builtEnd=friendlyDateTime(end),validateError=validateStartEnd(builtStart,builtEnd);return null==validateError?new Interval({start:builtStart,end:builtEnd}):validateError}static after(start,duration){let dur=Duration.fromDurationLike(duration),dt=friendlyDateTime(start);return Interval.fromDateTimes(dt,dt.plus(dur))}static before(end,duration){let dur=Duration.fromDurationLike(duration),dt=friendlyDateTime(end);return Interval.fromDateTimes(dt.minus(dur),dt)}static fromISO(text,opts){let[s,e]=(text||"").split("/",2);if(s&&e){let start,startIsValid,end,endIsValid;try{startIsValid=(start=DateTime.fromISO(s,opts)).isValid}catch(e){startIsValid=!1}try{endIsValid=(end=DateTime.fromISO(e,opts)).isValid}catch(e){endIsValid=!1}if(startIsValid&&endIsValid)return Interval.fromDateTimes(start,end);if(startIsValid){let dur=Duration.fromISO(e,opts);if(dur.isValid)return Interval.after(start,dur)}else if(endIsValid){let dur=Duration.fromISO(s,opts);if(dur.isValid)return Interval.before(end,dur)}}return Interval.invalid("unparsable",`the input "${text}" can't be parsed as ISO 8601`)}static isInterval(o){return o&&o.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(){let unit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration(...[unit]).get(unit):NaN}count(){let unit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";if(!this.isValid)return NaN;let start=this.start.startOf(unit),end=this.end.startOf(unit);return Math.floor(end.diff(start,unit).get(unit))+1}hasSame(unit){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,unit))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(dateTime){return!!this.isValid&&this.s>dateTime}isBefore(dateTime){return!!this.isValid&&this.e<=dateTime}contains(dateTime){return!!this.isValid&&this.s<=dateTime&&this.e>dateTime}set(){let{start,end}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?Interval.fromDateTimes(start||this.s,end||this.e):this}splitAt(){for(var _len=arguments.length,dateTimes=Array(_len),_key=0;_key<_len;_key++)dateTimes[_key]=arguments[_key];if(!this.isValid)return[];let sorted=dateTimes.map(friendlyDateTime).filter(d=>this.contains(d)).sort(),results=[],{s}=this,i=0;for(;s<this.e;){let added=sorted[i]||this.e,next=+added>+this.e?this.e:added;results.push(Interval.fromDateTimes(s,next)),s=next,i+=1}return results}splitBy(duration){let dur=Duration.fromDurationLike(duration);if(!this.isValid||!dur.isValid||0===dur.as("milliseconds"))return[];let{s}=this,idx=1,next,results=[];for(;s<this.e;){let added=this.start.plus(dur.mapUnits(x=>x*idx));next=+added>+this.e?this.e:added,results.push(Interval.fromDateTimes(s,next)),s=next,idx+=1}return results}divideEqually(numberOfParts){return this.isValid?this.splitBy(this.length()/numberOfParts).slice(0,numberOfParts):[]}overlaps(other){return this.e>other.s&&this.s<other.e}abutsStart(other){return!!this.isValid&&+this.e==+other.s}abutsEnd(other){return!!this.isValid&&+other.e==+this.s}engulfs(other){return!!this.isValid&&this.s<=other.s&&this.e>=other.e}equals(other){return!!this.isValid&&!!other.isValid&&this.s.equals(other.s)&&this.e.equals(other.e)}intersection(other){if(!this.isValid)return this;let s=this.s>other.s?this.s:other.s,e=this.e<other.e?this.e:other.e;return s>=e?null:Interval.fromDateTimes(s,e)}union(other){if(!this.isValid)return this;let s=this.s<other.s?this.s:other.s,e=this.e>other.e?this.e:other.e;return Interval.fromDateTimes(s,e)}static merge(intervals){let[found,final]=intervals.sort((a,b)=>a.s-b.s).reduce((param,item)=>{let[sofar,current]=param;return current?current.overlaps(item)||current.abutsStart(item)?[sofar,current.union(item)]:[sofar.concat([current]),item]:[sofar,item]},[[],null]);return final&&found.push(final),found}static xor(intervals){let start=null,currentCount=0,results=[],ends=intervals.map(i=>[{time:i.s,type:"s"},{time:i.e,type:"e"}]),flattened=Array.prototype.concat(...ends),arr=flattened.sort((a,b)=>a.time-b.time);for(let i of arr)1===(currentCount+="s"===i.type?1:-1)?start=i.time:(start&&+start!=+i.time&&results.push(Interval.fromDateTimes(start,i.time)),start=null);return Interval.merge(results)}difference(){for(var _len=arguments.length,intervals=Array(_len),_key=0;_key<_len;_key++)intervals[_key]=arguments[_key];return Interval.xor([this].concat(intervals)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:interval_INVALID}toISO(opts){return this.isValid?`${this.s.toISO(opts)}/${this.e.toISO(opts)}`:interval_INVALID}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:interval_INVALID}toISOTime(opts){return this.isValid?`${this.s.toISOTime(opts)}/${this.e.toISOTime(opts)}`:interval_INVALID}toFormat(dateFormat){let{separator="  "}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?`${this.s.toFormat(dateFormat)}${separator}${this.e.toFormat(dateFormat)}`:interval_INVALID}toDuration(unit,opts){return this.isValid?this.e.diff(this.s,unit,opts):Duration.invalid(this.invalidReason)}mapEndpoints(mapFn){return Interval.fromDateTimes(mapFn(this.s),mapFn(this.e))}constructor(config){this.s=config.start,this.e=config.end,this.invalid=config.invalid||null,this.isLuxonInterval=!0}}class Info{static hasDST(){let zone=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Settings.defaultZone,proto=DateTime.now().setZone(zone).set({month:12});return!zone.isUniversal&&proto.offset!==proto.set({month:6}).offset}static isValidIANAZone(zone){return IANAZone.isValidZone(zone)}static normalizeZone(input){return normalizeZone(input,Settings.defaultZone)}static months(){let length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale=null,numberingSystem=null,locObj=null,outputCalendar="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(locObj||Locale.create(locale,numberingSystem,outputCalendar)).months(length)}static monthsFormat(){let length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale=null,numberingSystem=null,locObj=null,outputCalendar="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(locObj||Locale.create(locale,numberingSystem,outputCalendar)).months(length,!0)}static weekdays(){let length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale=null,numberingSystem=null,locObj=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(locObj||Locale.create(locale,numberingSystem,null)).weekdays(length)}static weekdaysFormat(){let length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale=null,numberingSystem=null,locObj=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(locObj||Locale.create(locale,numberingSystem,null)).weekdays(length,!0)}static meridiems(){let{locale=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Locale.create(locale).meridiems()}static eras(){let length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",{locale=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Locale.create(locale,null,"gregory").eras(length)}static features(){return{relative:hasRelative()}}}function dayDiff(earlier,later){let utcDayStart=dt=>dt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),ms=utcDayStart(later)-utcDayStart(earlier);return Math.floor(Duration.fromMillis(ms).as("days"))}function highOrderDiffs(cursor,later,units){let lowestOrder,highWater;let results={};for(let[unit,differ]of[["years",(a,b)=>b.year-a.year],["quarters",(a,b)=>b.quarter-a.quarter],["months",(a,b)=>b.month-a.month+(b.year-a.year)*12],["weeks",(a,b)=>{let days=dayDiff(a,b);return(days-days%7)/7}],["days",dayDiff]])if(units.indexOf(unit)>=0){lowestOrder=unit;let delta=differ(cursor,later);(highWater=cursor.plus({[unit]:delta}))>later?(cursor=cursor.plus({[unit]:delta-1}),delta-=1):cursor=highWater,results[unit]=delta}return[cursor,results,highWater,lowestOrder]}function diff(earlier,later,units,opts){let[cursor,results,highWater,lowestOrder]=highOrderDiffs(earlier,later,units),remainingMillis=later-cursor,lowerOrderUnits=units.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);0===lowerOrderUnits.length&&(highWater<later&&(highWater=cursor.plus({[lowestOrder]:1})),highWater!==cursor&&(results[lowestOrder]=(results[lowestOrder]||0)+remainingMillis/(highWater-cursor)));let duration=Duration.fromObject(results,opts);return lowerOrderUnits.length>0?Duration.fromMillis(remainingMillis,opts).shiftTo(...lowerOrderUnits).plus(duration):duration}let numberingSystems={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(str){let value=parseInt(str,10);if(!isNaN(value))return value;value="";for(let i=0;i<str.length;i++){let code=str.charCodeAt(i);if(-1!==str[i].search(numberingSystems.hanidec))value+=hanidecChars.indexOf(str[i]);else for(let key in numberingSystemsUTF16){let[min,max]=numberingSystemsUTF16[key];code>=min&&code<=max&&(value+=code-min)}}return parseInt(value,10)}function digitRegex(param){let{numberingSystem}=param,append=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return RegExp(`${numberingSystems[numberingSystem||"latn"]}${append}`)}function intUnit(regex){let post=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i=>i;return{regex,deser:param=>{let[s]=param;return post(parseDigits(s))}}}let NBSP=String.fromCharCode(160),spaceOrNBSP=`[ ${NBSP}]`,spaceOrNBSPRegExp=RegExp(spaceOrNBSP,"g");function fixListRegex(s){return s.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(s){return s.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(strings,startIndex){return null===strings?null:{regex:RegExp(strings.map(fixListRegex).join("|")),deser:param=>{let[s]=param;return strings.findIndex(i=>stripInsensitivities(s)===stripInsensitivities(i))+startIndex}}}function offset(regex,groups){return{regex,deser:param=>{let[,h,m]=param;return signedOffset(h,m)},groups}}function simple(regex){return{regex,deser:param=>{let[s]=param;return s}}}function escapeToken(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function unitForToken(token,loc){let one=digitRegex(loc),two=digitRegex(loc,"{2}"),three=digitRegex(loc,"{3}"),four=digitRegex(loc,"{4}"),six=digitRegex(loc,"{6}"),oneOrTwo=digitRegex(loc,"{1,2}"),oneToThree=digitRegex(loc,"{1,3}"),oneToSix=digitRegex(loc,"{1,6}"),oneToNine=digitRegex(loc,"{1,9}"),twoToFour=digitRegex(loc,"{2,4}"),fourToSix=digitRegex(loc,"{4,6}"),literal=t=>({regex:RegExp(escapeToken(t.val)),deser:param=>{let[s]=param;return s},literal:!0}),unit=(t=>{if(token.literal)return literal(t);switch(t.val){case"G":return oneOf(loc.eras("short",!1),0);case"GG":return oneOf(loc.eras("long",!1),0);case"y":return intUnit(oneToSix);case"yy":case"kk":return intUnit(twoToFour,untruncateYear);case"yyyy":case"kkkk":return intUnit(four);case"yyyyy":return intUnit(fourToSix);case"yyyyyy":return intUnit(six);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return intUnit(oneOrTwo);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return intUnit(two);case"MMM":return oneOf(loc.months("short",!0,!1),1);case"MMMM":return oneOf(loc.months("long",!0,!1),1);case"LLL":return oneOf(loc.months("short",!1,!1),1);case"LLLL":return oneOf(loc.months("long",!1,!1),1);case"o":case"S":return intUnit(oneToThree);case"ooo":case"SSS":return intUnit(three);case"u":return simple(oneToNine);case"uu":return simple(oneOrTwo);case"uuu":case"E":case"c":return intUnit(one);case"a":return oneOf(loc.meridiems(),0);case"EEE":return oneOf(loc.weekdays("short",!1,!1),1);case"EEEE":return oneOf(loc.weekdays("long",!1,!1),1);case"ccc":return oneOf(loc.weekdays("short",!0,!1),1);case"cccc":return oneOf(loc.weekdays("long",!0,!1),1);case"Z":case"ZZ":return offset(RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`),2);case"ZZZ":return offset(RegExp(`([+-]${oneOrTwo.source})(${two.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);default:return literal(t)}})(token)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return unit.token=token,unit}let partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function tokenForPart(part,locale,formatOpts){let{type,value}=part;if("literal"===type)return{literal:!0,val:value};let style=formatOpts[type],val=partTypeStyleToTokenVal[type];if("object"==typeof val&&(val=val[style]),val)return{literal:!1,val}}function buildRegex(units){let re=units.map(u=>u.regex).reduce((f,r)=>`${f}(${r.source})`,"");return[`^${re}$`,units]}function tokenParser_match(input,regex,handlers){let matches=input.match(regex);if(!matches)return[matches,{}];{let all={},matchIndex=1;for(let i in handlers)if(util_hasOwnProperty(handlers,i)){let h=handlers[i],groups=h.groups?h.groups+1:1;!h.literal&&h.token&&(all[h.token.val[0]]=h.deser(matches.slice(matchIndex,matchIndex+groups))),matchIndex+=groups}return[matches,all]}}function dateTimeFromMatches(matches){let specificOffset;let toField=token=>{switch(token){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},zone=null;util_isUndefined(matches.z)||(zone=IANAZone.create(matches.z)),util_isUndefined(matches.Z)||(zone||(zone=new FixedOffsetZone(matches.Z)),specificOffset=matches.Z),util_isUndefined(matches.q)||(matches.M=(matches.q-1)*3+1),util_isUndefined(matches.h)||(matches.h<12&&1===matches.a?matches.h+=12:12!==matches.h||0!==matches.a||(matches.h=0)),0===matches.G&&matches.y&&(matches.y=-matches.y),util_isUndefined(matches.u)||(matches.S=parseMillis(matches.u));let vals=Object.keys(matches).reduce((r,k)=>{let f=toField(k);return f&&(r[f]=matches[k]),r},{});return[vals,zone,specificOffset]}let dummyDateTimeCache=null;function getDummyDateTime(){return dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache}function maybeExpandMacroToken(token,locale){if(token.literal)return token;let formatOpts=Formatter.macroTokenToFormatOpts(token.val);if(!formatOpts)return token;let formatter=Formatter.create(locale,formatOpts),parts=formatter.formatDateTimeParts(getDummyDateTime()),tokens=parts.map(p=>tokenForPart(p,locale,formatOpts));return tokens.includes(void 0)?token:tokens}function expandMacroTokens(tokens,locale){return Array.prototype.concat(...tokens.map(t=>maybeExpandMacroToken(t,locale)))}function explainFromTokens(locale,input,format){let tokens=expandMacroTokens(Formatter.parseFormat(format),locale),units=tokens.map(t=>unitForToken(t,locale)),disqualifyingUnit=units.find(t=>t.invalidReason);if(disqualifyingUnit)return{input,tokens,invalidReason:disqualifyingUnit.invalidReason};{let[regexString,handlers]=buildRegex(units),regex=RegExp(regexString,"i"),[rawMatches,matches]=tokenParser_match(input,regex,handlers),[result,zone,specificOffset]=matches?dateTimeFromMatches(matches):[null,null,void 0];if(util_hasOwnProperty(matches,"a")&&util_hasOwnProperty(matches,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input,tokens,regex,rawMatches,matches,result,zone,specificOffset}}}function parseFromTokens(locale,input,format){let{result,zone,specificOffset,invalidReason}=explainFromTokens(locale,input,format);return[result,zone,specificOffset,invalidReason]}let nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(unit,value){return new Invalid("unit out of range",`you specified ${value} (of type ${typeof value}) as a ${unit}, which is invalid`)}function dayOfWeek(year,month,day){let d=new Date(Date.UTC(year,month-1,day));year<100&&year>=0&&d.setUTCFullYear(d.getUTCFullYear()-1900);let js=d.getUTCDay();return 0===js?7:js}function computeOrdinal(year,month,day){return day+(isLeapYear(year)?leapLadder:nonLeapLadder)[month-1]}function uncomputeOrdinal(year,ordinal){let table=isLeapYear(year)?leapLadder:nonLeapLadder,month0=table.findIndex(i=>i<ordinal),day=ordinal-table[month0];return{month:month0+1,day}}function gregorianToWeek(gregObj){let{year,month,day}=gregObj,ordinal=computeOrdinal(year,month,day),weekday=dayOfWeek(year,month,day),weekNumber=Math.floor((ordinal-weekday+10)/7),weekYear;return weekNumber<1?weekNumber=weeksInWeekYear(weekYear=year-1):weekNumber>weeksInWeekYear(year)?(weekYear=year+1,weekNumber=1):weekYear=year,{weekYear,weekNumber,weekday,...timeObject(gregObj)}}function weekToGregorian(weekData){let{weekYear,weekNumber,weekday}=weekData,weekdayOfJan4=dayOfWeek(weekYear,1,4),yearInDays=daysInYear(weekYear),ordinal=7*weekNumber+weekday-weekdayOfJan4-3,year;ordinal<1?ordinal+=daysInYear(year=weekYear-1):ordinal>yearInDays?(year=weekYear+1,ordinal-=daysInYear(weekYear)):year=weekYear;let{month,day}=uncomputeOrdinal(year,ordinal);return{year,month,day,...timeObject(weekData)}}function gregorianToOrdinal(gregData){let{year,month,day}=gregData,ordinal=computeOrdinal(year,month,day);return{year,ordinal,...timeObject(gregData)}}function ordinalToGregorian(ordinalData){let{year,ordinal}=ordinalData,{month,day}=uncomputeOrdinal(year,ordinal);return{year,month,day,...timeObject(ordinalData)}}function hasInvalidWeekData(obj){let validYear=isInteger(obj.weekYear),validWeek=integerBetween(obj.weekNumber,1,weeksInWeekYear(obj.weekYear)),validWeekday=integerBetween(obj.weekday,1,7);return validYear?validWeek?!validWeekday&&unitOutOfRange("weekday",obj.weekday):unitOutOfRange("week",obj.week):unitOutOfRange("weekYear",obj.weekYear)}function hasInvalidOrdinalData(obj){let validYear=isInteger(obj.year),validOrdinal=integerBetween(obj.ordinal,1,daysInYear(obj.year));return validYear?!validOrdinal&&unitOutOfRange("ordinal",obj.ordinal):unitOutOfRange("year",obj.year)}function hasInvalidGregorianData(obj){let validYear=isInteger(obj.year),validMonth=integerBetween(obj.month,1,12),validDay=integerBetween(obj.day,1,daysInMonth(obj.year,obj.month));return validYear?validMonth?!validDay&&unitOutOfRange("day",obj.day):unitOutOfRange("month",obj.month):unitOutOfRange("year",obj.year)}function hasInvalidTimeData(obj){let{hour,minute,second,millisecond}=obj,validHour=integerBetween(hour,0,23)||24===hour&&0===minute&&0===second&&0===millisecond,validMinute=integerBetween(minute,0,59),validSecond=integerBetween(second,0,59),validMillisecond=integerBetween(millisecond,0,999);return validHour?validMinute?validSecond?!validMillisecond&&unitOutOfRange("millisecond",millisecond):unitOutOfRange("second",second):unitOutOfRange("minute",minute):unitOutOfRange("hour",hour)}let datetime_INVALID="Invalid DateTime";function unsupportedZone(zone){return new Invalid("unsupported zone",`the zone "${zone.name}" is not supported`)}function possiblyCachedWeekData(dt){return null===dt.weekData&&(dt.weekData=gregorianToWeek(dt.c)),dt.weekData}function datetime_clone(inst,alts){let current={ts:inst.ts,zone:inst.zone,c:inst.c,o:inst.o,loc:inst.loc,invalid:inst.invalid};return new DateTime({...current,...alts,old:current})}function fixOffset(localTS,o,tz){let utcGuess=localTS-6e4*o,o2=tz.offset(utcGuess);if(o===o2)return[utcGuess,o];utcGuess-=(o2-o)*6e4;let o3=tz.offset(utcGuess);return o2===o3?[utcGuess,o2]:[localTS-6e4*Math.min(o2,o3),Math.max(o2,o3)]}function tsToObj(ts,offset){ts+=6e4*offset;let d=new Date(ts);return{year:d.getUTCFullYear(),month:d.getUTCMonth()+1,day:d.getUTCDate(),hour:d.getUTCHours(),minute:d.getUTCMinutes(),second:d.getUTCSeconds(),millisecond:d.getUTCMilliseconds()}}function objToTS(obj,offset,zone){return fixOffset(objToLocalTS(obj),offset,zone)}function adjustTime(inst,dur){let oPre=inst.o,year=inst.c.year+Math.trunc(dur.years),month=inst.c.month+Math.trunc(dur.months)+3*Math.trunc(dur.quarters),c={...inst.c,year,month,day:Math.min(inst.c.day,daysInMonth(year,month))+Math.trunc(dur.days)+7*Math.trunc(dur.weeks)},millisToAdd=Duration.fromObject({years:dur.years-Math.trunc(dur.years),quarters:dur.quarters-Math.trunc(dur.quarters),months:dur.months-Math.trunc(dur.months),weeks:dur.weeks-Math.trunc(dur.weeks),days:dur.days-Math.trunc(dur.days),hours:dur.hours,minutes:dur.minutes,seconds:dur.seconds,milliseconds:dur.milliseconds}).as("milliseconds"),localTS=objToLocalTS(c),[ts,o]=fixOffset(localTS,oPre,inst.zone);return 0!==millisToAdd&&(ts+=millisToAdd,o=inst.zone.offset(ts)),{ts,o}}function parseDataToDateTime(parsed,parsedZone,opts,format,text,specificOffset){let{setZone,zone}=opts;if(!parsed||0===Object.keys(parsed).length)return DateTime.invalid(new Invalid("unparsable",`the input "${text}" can't be parsed as ${format}`));{let inst=DateTime.fromObject(parsed,{...opts,zone:parsedZone||zone,specificOffset});return setZone?inst:inst.setZone(zone)}}function toTechFormat(dt,format){let allowZ=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return dt.isValid?Formatter.create(Locale.create("en-US"),{allowZ,forceSimple:!0}).formatDateTimeFromString(dt,format):null}function toISODate(o,extended){let longFormat=o.c.year>9999||o.c.year<0,c="";return longFormat&&o.c.year>=0&&(c+="+"),c+=padStart(o.c.year,longFormat?6:4),extended?c+="-"+padStart(o.c.month)+"-"+padStart(o.c.day):c+=padStart(o.c.month)+padStart(o.c.day),c}function toISOTime(o,extended,suppressSeconds,suppressMilliseconds,includeOffset,extendedZone){let c=padStart(o.c.hour);return extended?(c+=":"+padStart(o.c.minute),0===o.c.second&&suppressSeconds||(c+=":")):c+=padStart(o.c.minute),0===o.c.second&&suppressSeconds||(c+=padStart(o.c.second),0===o.c.millisecond&&suppressMilliseconds||(c+="."+padStart(o.c.millisecond,3))),includeOffset&&(o.isOffsetFixed&&0===o.offset&&!extendedZone?c+="Z":o.o<0?c+="-"+padStart(Math.trunc(-o.o/60))+":"+padStart(Math.trunc(-o.o%60)):c+="+"+padStart(Math.trunc(o.o/60))+":"+padStart(Math.trunc(o.o%60))),extendedZone&&(c+="["+o.zone.ianaName+"]"),c}let defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},datetime_orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(unit){let normalized={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[unit.toLowerCase()];if(!normalized)throw new InvalidUnitError(unit);return normalized}function quickDT(obj,opts){let ts,o;let zone=normalizeZone(opts.zone,Settings.defaultZone),loc=Locale.fromObject(opts),tsNow=Settings.now();if(util_isUndefined(obj.year))ts=tsNow;else{for(let u of datetime_orderedUnits)util_isUndefined(obj[u])&&(obj[u]=defaultUnitValues[u]);let invalid=hasInvalidGregorianData(obj)||hasInvalidTimeData(obj);if(invalid)return DateTime.invalid(invalid);let offsetProvis=zone.offset(tsNow);[ts,o]=objToTS(obj,offsetProvis,zone)}return new DateTime({ts,zone,loc,o})}function diffRelative(start,end,opts){let round=!!util_isUndefined(opts.round)||opts.round,format=(c,unit)=>{c=roundTo(c,round||opts.calendary?0:2,!0);let formatter=end.loc.clone(opts).relFormatter(opts);return formatter.format(c,unit)},differ=unit=>opts.calendary?end.hasSame(start,unit)?0:end.startOf(unit).diff(start.startOf(unit),unit).get(unit):end.diff(start,unit).get(unit);if(opts.unit)return format(differ(opts.unit),opts.unit);for(let unit of opts.units){let count=differ(unit);if(Math.abs(count)>=1)return format(count,unit)}return format(-0,opts.units[opts.units.length-1])}function lastOpts(argList){let opts={},args;return argList.length>0&&"object"==typeof argList[argList.length-1]?(opts=argList[argList.length-1],args=Array.from(argList).slice(0,argList.length-1)):args=Array.from(argList),[opts,args]}class DateTime{static now(){return new DateTime({})}static local(){let[opts,args]=lastOpts(arguments),[year,month,day,hour,minute,second,millisecond]=args;return quickDT({year,month,day,hour,minute,second,millisecond},opts)}static utc(){let[opts,args]=lastOpts(arguments),[year,month,day,hour,minute,second,millisecond]=args;return opts.zone=FixedOffsetZone.utcInstance,quickDT({year,month,day,hour,minute,second,millisecond},opts)}static fromJSDate(date){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ts=isDate(date)?date.valueOf():NaN;if(Number.isNaN(ts))return DateTime.invalid("invalid input");let zoneToUse=normalizeZone(options.zone,Settings.defaultZone);return zoneToUse.isValid?new DateTime({ts:ts,zone:zoneToUse,loc:Locale.fromObject(options)}):DateTime.invalid(unsupportedZone(zoneToUse))}static fromMillis(milliseconds){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(isNumber(milliseconds))return milliseconds<-864e13||milliseconds>864e13?DateTime.invalid("Timestamp out of range"):new DateTime({ts:milliseconds,zone:normalizeZone(options.zone,Settings.defaultZone),loc:Locale.fromObject(options)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof milliseconds} with value ${milliseconds}`)}static fromSeconds(seconds){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(isNumber(seconds))return new DateTime({ts:1e3*seconds,zone:normalizeZone(options.zone,Settings.defaultZone),loc:Locale.fromObject(options)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(obj){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};obj=obj||{};let zoneToUse=normalizeZone(opts.zone,Settings.defaultZone);if(!zoneToUse.isValid)return DateTime.invalid(unsupportedZone(zoneToUse));let tsNow=Settings.now(),offsetProvis=util_isUndefined(opts.specificOffset)?zoneToUse.offset(tsNow):opts.specificOffset,normalized=normalizeObject(obj,normalizeUnit),containsOrdinal=!util_isUndefined(normalized.ordinal),containsGregorYear=!util_isUndefined(normalized.year),containsGregorMD=!util_isUndefined(normalized.month)||!util_isUndefined(normalized.day),containsGregor=containsGregorYear||containsGregorMD,definiteWeekDef=normalized.weekYear||normalized.weekNumber,loc=Locale.fromObject(opts);if((containsGregor||containsOrdinal)&&definiteWeekDef)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(containsGregorMD&&containsOrdinal)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let useWeekData=definiteWeekDef||normalized.weekday&&!containsGregor,units,defaultValues,objNow=tsToObj(tsNow,offsetProvis);useWeekData?(units=orderedWeekUnits,defaultValues=defaultWeekUnitValues,objNow=gregorianToWeek(objNow)):containsOrdinal?(units=orderedOrdinalUnits,defaultValues=defaultOrdinalUnitValues,objNow=gregorianToOrdinal(objNow)):(units=datetime_orderedUnits,defaultValues=defaultUnitValues);let foundFirst=!1;for(let u of units){let v=normalized[u];util_isUndefined(v)?foundFirst?normalized[u]=defaultValues[u]:normalized[u]=objNow[u]:foundFirst=!0}let higherOrderInvalid=useWeekData?hasInvalidWeekData(normalized):containsOrdinal?hasInvalidOrdinalData(normalized):hasInvalidGregorianData(normalized),invalid=higherOrderInvalid||hasInvalidTimeData(normalized);if(invalid)return DateTime.invalid(invalid);let gregorian=useWeekData?weekToGregorian(normalized):containsOrdinal?ordinalToGregorian(normalized):normalized,[tsFinal,offsetFinal]=objToTS(gregorian,offsetProvis,zoneToUse),inst=new DateTime({ts:tsFinal,zone:zoneToUse,o:offsetFinal,loc});return normalized.weekday&&containsGregor&&obj.weekday!==inst.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${normalized.weekday} and a date of ${inst.toISO()}`):inst}static fromISO(text){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[vals,parsedZone]=parseISODate(text);return parseDataToDateTime(vals,parsedZone,opts,"ISO 8601",text)}static fromRFC2822(text){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[vals,parsedZone]=parseRFC2822Date(text);return parseDataToDateTime(vals,parsedZone,opts,"RFC 2822",text)}static fromHTTP(text){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[vals,parsedZone]=parseHTTPDate(text);return parseDataToDateTime(vals,parsedZone,opts,"HTTP",opts)}static fromFormat(text,fmt){let opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(util_isUndefined(text)||util_isUndefined(fmt))throw new InvalidArgumentError("fromFormat requires an input string and a format");let{locale=null,numberingSystem=null}=opts,localeToUse=Locale.fromOpts({locale,numberingSystem,defaultToEN:!0}),[vals,parsedZone,specificOffset,invalid]=parseFromTokens(localeToUse,text,fmt);return invalid?DateTime.invalid(invalid):parseDataToDateTime(vals,parsedZone,opts,`format ${fmt}`,text,specificOffset)}static fromString(text,fmt){let opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return DateTime.fromFormat(text,fmt,opts)}static fromSQL(text){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[vals,parsedZone]=parseSQL(text);return parseDataToDateTime(vals,parsedZone,opts,"SQL",text)}static invalid(reason){let explanation=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!reason)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");let invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(!Settings.throwOnInvalid)return new DateTime({invalid});throw new InvalidDateTimeError(invalid)}static isDateTime(o){return o&&o.isLuxonDateTime||!1}get(unit){return this[unit]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}resolvedLocaleOptions(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{locale,numberingSystem,calendar}=Formatter.create(this.loc.clone(opts),opts).resolvedOptions(this);return{locale,numberingSystem,outputCalendar:calendar}}toUTC(){let offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(FixedOffsetZone.instance(offset),opts)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(zone){let{keepLocalTime=!1,keepCalendarTime=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((zone=normalizeZone(zone,Settings.defaultZone)).equals(this.zone))return this;if(!zone.isValid)return DateTime.invalid(unsupportedZone(zone));{let newTS=this.ts;if(keepLocalTime||keepCalendarTime){let offsetGuess=zone.offset(this.ts),asObj=this.toObject();[newTS]=objToTS(asObj,offsetGuess,zone)}return datetime_clone(this,{ts:newTS,zone})}}reconfigure(){let{locale,numberingSystem,outputCalendar}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},loc=this.loc.clone({locale,numberingSystem,outputCalendar});return datetime_clone(this,{loc})}setLocale(locale){return this.reconfigure({locale})}set(values){let mixed;if(!this.isValid)return this;let normalized=normalizeObject(values,normalizeUnit),settingWeekStuff=!util_isUndefined(normalized.weekYear)||!util_isUndefined(normalized.weekNumber)||!util_isUndefined(normalized.weekday),containsOrdinal=!util_isUndefined(normalized.ordinal),containsGregorYear=!util_isUndefined(normalized.year),containsGregorMD=!util_isUndefined(normalized.month)||!util_isUndefined(normalized.day),definiteWeekDef=normalized.weekYear||normalized.weekNumber;if((containsGregorYear||containsGregorMD||containsOrdinal)&&definiteWeekDef)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(containsGregorMD&&containsOrdinal)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");settingWeekStuff?mixed=weekToGregorian({...gregorianToWeek(this.c),...normalized}):util_isUndefined(normalized.ordinal)?(mixed={...this.toObject(),...normalized},util_isUndefined(normalized.day)&&(mixed.day=Math.min(daysInMonth(mixed.year,mixed.month),mixed.day))):mixed=ordinalToGregorian({...gregorianToOrdinal(this.c),...normalized});let[ts,o]=objToTS(mixed,this.o,this.zone);return datetime_clone(this,{ts,o})}plus(duration){if(!this.isValid)return this;let dur=Duration.fromDurationLike(duration);return datetime_clone(this,adjustTime(this,dur))}minus(duration){if(!this.isValid)return this;let dur=Duration.fromDurationLike(duration).negate();return datetime_clone(this,adjustTime(this,dur))}startOf(unit){if(!this.isValid)return this;let o={},normalizedUnit=Duration.normalizeUnit(unit);switch(normalizedUnit){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0}if("weeks"===normalizedUnit&&(o.weekday=1),"quarters"===normalizedUnit){let q=Math.ceil(this.month/3);o.month=(q-1)*3+1}return this.set(o)}endOf(unit){return this.isValid?this.plus({[unit]:1}).startOf(unit).minus(1):this}toFormat(fmt){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this,fmt):datetime_INVALID}toLocaleString(){let formatOpts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DATE_SHORT,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?Formatter.create(this.loc.clone(opts),formatOpts).formatDateTime(this):datetime_INVALID}toLocaleParts(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?Formatter.create(this.loc.clone(opts),opts).formatDateTimeParts(this):[]}toISO(){let c,{format="extended",suppressSeconds=!1,suppressMilliseconds=!1,includeOffset=!0,extendedZone=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;let ext="extended"===format;return toISODate(this,ext)+"T"+toISOTime(this,ext,suppressSeconds,suppressMilliseconds,includeOffset,extendedZone)}toISODate(){let{format="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?toISODate(this,"extended"===format):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime(){let{suppressMilliseconds=!1,suppressSeconds=!1,includeOffset=!0,includePrefix=!1,extendedZone=!1,format="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?(includePrefix?"T":"")+toISOTime(this,"extended"===format,suppressSeconds,suppressMilliseconds,includeOffset,extendedZone):null}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime(){let{includeOffset=!0,includeZone=!1,includeOffsetSpace=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},fmt="HH:mm:ss.SSS";return(includeZone||includeOffset)&&(includeOffsetSpace&&(fmt+=" "),includeZone?fmt+="z":includeOffset&&(fmt+="ZZ")),toTechFormat(this,fmt,!0)}toSQL(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(opts)}`:null}toString(){return this.isValid?this.toISO():datetime_INVALID}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};let base={...this.c};return opts.includeConfig&&(base.outputCalendar=this.outputCalendar,base.numberingSystem=this.loc.numberingSystem,base.locale=this.loc.locale),base}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(otherDateTime){let unit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",opts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!otherDateTime.isValid)return Duration.invalid("created by diffing an invalid DateTime");let durOpts={locale:this.locale,numberingSystem:this.numberingSystem,...opts},units=maybeArray(unit).map(Duration.normalizeUnit),otherIsLater=otherDateTime.valueOf()>this.valueOf(),diffed=diff(otherIsLater?this:otherDateTime,otherIsLater?otherDateTime:this,units,durOpts);return otherIsLater?diffed.negate():diffed}diffNow(){let unit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(DateTime.now(),unit,opts)}until(otherDateTime){return this.isValid?Interval.fromDateTimes(this,otherDateTime):this}hasSame(otherDateTime,unit){if(!this.isValid)return!1;let inputMs=otherDateTime.valueOf(),adjustedToZone=this.setZone(otherDateTime.zone,{keepLocalTime:!0});return adjustedToZone.startOf(unit)<=inputMs&&inputMs<=adjustedToZone.endOf(unit)}equals(other){return this.isValid&&other.isValid&&this.valueOf()===other.valueOf()&&this.zone.equals(other.zone)&&this.loc.equals(other.loc)}toRelative(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;let base=options.base||DateTime.fromObject({},{zone:this.zone}),padding=options.padding?this<base?-options.padding:options.padding:0,units=["years","months","days","hours","minutes","seconds"],unit=options.unit;return Array.isArray(options.unit)&&(units=options.unit,unit=void 0),diffRelative(base,this.plus(padding),{...options,numeric:"always",units,unit})}toRelativeCalendar(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?diffRelative(options.base||DateTime.fromObject({},{zone:this.zone}),this,{...options,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(){for(var _len=arguments.length,dateTimes=Array(_len),_key=0;_key<_len;_key++)dateTimes[_key]=arguments[_key];if(!dateTimes.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(dateTimes,i=>i.valueOf(),Math.min)}static max(){for(var _len=arguments.length,dateTimes=Array(_len),_key=0;_key<_len;_key++)dateTimes[_key]=arguments[_key];if(!dateTimes.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(dateTimes,i=>i.valueOf(),Math.max)}static fromFormatExplain(text,fmt){let options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{locale=null,numberingSystem=null}=options,localeToUse=Locale.fromOpts({locale,numberingSystem,defaultToEN:!0});return explainFromTokens(localeToUse,text,fmt)}static fromStringExplain(text,fmt){let options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return DateTime.fromFormatExplain(text,fmt,options)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}constructor(config){let zone=config.zone||Settings.defaultZone,invalid=config.invalid||(Number.isNaN(config.ts)?new Invalid("invalid input"):null)||(zone.isValid?null:unsupportedZone(zone));this.ts=util_isUndefined(config.ts)?Settings.now():config.ts;let c=null,o=null;if(!invalid){let unchanged=config.old&&config.old.ts===this.ts&&config.old.zone.equals(zone);if(unchanged)[c,o]=[config.old.c,config.old.o];else{let ot=zone.offset(this.ts);c=(invalid=Number.isNaN((c=tsToObj(this.ts,ot)).year)?new Invalid("invalid input"):null)?null:c,o=invalid?null:ot}}this._zone=zone,this.loc=config.loc||Locale.create(),this.invalid=invalid,this.weekData=null,this.c=c,this.o=o,this.isLuxonDateTime=!0}}function friendlyDateTime(dateTimeish){if(DateTime.isDateTime(dateTimeish))return dateTimeish;if(dateTimeish&&dateTimeish.valueOf&&isNumber(dateTimeish.valueOf()))return DateTime.fromJSDate(dateTimeish);if(dateTimeish&&"object"==typeof dateTimeish)return DateTime.fromObject(dateTimeish);throw new InvalidArgumentError(`Unknown datetime argument: ${dateTimeish}, of type ${typeof dateTimeish}`)}class RelativeTime extends Nullstack{hydrate(param){let{environment,date}=param;environment.client&&setInterval(()=>{this.force^=1},1e3)}render(param){let{date}=param;return $runtime.element("span",{"data-refresh":`rt-${this.force}`},date.toRelative())}constructor(...args){super(...args),this.force=0}}RelativeTime.hash="6b04bffc5eaa2145";class Home extends Nullstack{prepare(param){let{page}=param;page.title="Get Short Video",page.description="Get a short video"}async hydrate(){await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),this._devices=await navigator.mediaDevices.enumerateDevices(),this.mic=this._devices.find(device=>"audioinput"===device.kind)?.deviceId,this.webcam=this._devices.find(device=>"videoinput"===device.kind)?.deviceId,this.changeDevice()}terminate(){this._mediaRecorder.removeEventListener("dataavailable",this._onDataAvailableAddChunk),this._mediaRecorder.removeEventListener("stop",this._onStopSave),this._mediaRecorder=void 0}async startRecording(){this.recordingState=!0,this._dataChunks=[],this._mediaRecorder.start()}async stopRecording(){this._mediaRecorder?.state!=="inactive"&&(this._mediaRecorder?.stop(),this.recordingState=!1)}async changeDevice(){if("false"===this.mic&&"false"===this.webcam)return;let stream=await navigator.mediaDevices.getUserMedia({audio:"false"!==this.mic&&(!this.mic||{deviceId:this.mic}),video:"false"!==this.webcam&&(!this.webcam||{deviceId:this.webcam})}),videoElement=document.querySelector("#video");videoElement.srcObject=stream,this.stopRecording(),this._mediaRecorder=new MediaRecorder(stream),this._mediaRecorder.addEventListener("dataavailable",this._onDataAvailableAddChunk),this._mediaRecorder.addEventListener("stop",this._onStopSave)}_onDataAvailableAddChunk(event){this._dataChunks.push(event.data)}_onStopSave(){let dataBlob=new Blob(this._dataChunks,{type:"video/webm"}),dataUrl=URL.createObjectURL(dataBlob);this._recordings.unshift({date:DateTime.now(),url:dataUrl})}_selectDevice(param){let{event,data}=param;this[data.prop]=event.target.value,this.changeDevice()}renderDeviceSelector(param){let{id,type}=param;return $runtime.element("div",{class:"my-2"},$runtime.element("select",{class:"dark:text-gray-200 dark:bg-gray-900 w-full p-2",onchange:this._selectDevice,"data-prop":`${id}`,value:this[`${id}`],source:this},$runtime.element("option",{value:"false"},"No device"),this._devices?.filter(device=>device.kind===type).map(device=>$runtime.element("option",{value:device.deviceId},device.label))))}renderRecordings(){return!!this._recordings?.length&&$runtime.element("div",{class:"flex flex-col gap-2 mt-12 sm:mt-4"},$runtime.element("h2",null,"Past recordings"),$runtime.element("div",{class:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 grid gap-4"},this._recordings?.map(rec=>$runtime.element("div",{class:"flex flex-col gap-2 items-center w-full"},$runtime.element("video",{src:rec.url,controls:!0}),$runtime.element(RelativeTime,{date:rec.date}),$runtime.element("a",{href:rec.url,download:!0},"Download")))))}render(param){let{project}=param,Recordings=this.renderRecordings,DeviceSelector=this.renderDeviceSelector;return $runtime.element("section",{class:"Home"},$runtime.element("article",{class:"flex flex-col py-8"},$runtime.element("h1",{class:"text-4xl mb-2"},project.name),$runtime.element("div",{class:"flex-1"},$runtime.element("div",{class:"flex gap-4 flex-col md:flex-row items-start"},$runtime.element("div",{class:"md:w-1/5"},$runtime.element(DeviceSelector,{id:"mic",type:"audioinput"}),$runtime.element(DeviceSelector,{id:"webcam",type:"videoinput"}),$runtime.element("div",{class:"flex justify-center pt-4"},!this.recordingState&&$runtime.element("button",{class:"rounded-md dark:bg-blue-500 dark:text-white py-2 px-4",onclick:this.startRecording,disabled:"false"===this.mic&&"false"===this.webcam,source:this},"Start recording"),this.recordingState&&$runtime.element("div",{class:"flex flex-col justify-center gap-4"},$runtime.element("button",{class:"py-2 px-4 rounded-md dark:bg-red-400 dark:text-white",onclick:this.stopRecording,source:this},"Stop recording \uD83D\uDD34")))),$runtime.element("div",{class:"flex flex-col flex-1"},$runtime.element("div",{id:"video-container"},$runtime.element("video",{id:"video",class:`w-full ${"false"!==this.webcam?"":"h-16"}`,controls:!0,autoplay:!0,muted:!0})))),$runtime.element(Recordings,null))))}constructor(...args){super(...args),this._devices=[],this._dataChunks=[],this._recordings=[],this.recordingState=!1}}Home.hash="15b31cbd1e4a3ee";class Application extends Nullstack{prepare(param){let{page}=param;page.locale="en-US"}renderHead(){return $runtime.element("head",null,$runtime.element("meta",{name:"theme-color",value:"#333333"}),$runtime.element("link",{href:"https://fonts.gstatic.com",rel:"preconnect"}),$runtime.element("link",{href:"https://fonts.googleapis.com/css2?family=Crete+Round&family=Roboto&display=swap",rel:"stylesheet"}))}render(){let Head=this.renderHead;return $runtime.element($runtime.fragment,null,$runtime.element(Head,null),$runtime.element("main",{class:"dark dark:bg-gray-800 dark:text-gray-200"},$runtime.element("div",{class:"container mx-auto px-4 mt-0"},$runtime.element(Home,{route:"/"}))))}}Application.hash="5b2fd53922c75216";let client_context_0=Nullstack.start(Application);client_context_0.start=async function start(){};let client_0=client_context_0;return __webpack_exports__})());